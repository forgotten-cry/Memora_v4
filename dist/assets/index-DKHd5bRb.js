var Dd=Object.defineProperty;var Rd=(e,t,n)=>t in e?Dd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var _n=(e,t,n)=>Rd(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function Md(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fu={exports:{}},El={},pu={exports:{}},D={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mr=Symbol.for("react.element"),Pd=Symbol.for("react.portal"),Ud=Symbol.for("react.fragment"),Fd=Symbol.for("react.strict_mode"),zd=Symbol.for("react.profiler"),Bd=Symbol.for("react.provider"),bd=Symbol.for("react.context"),Vd=Symbol.for("react.forward_ref"),Gd=Symbol.for("react.suspense"),Hd=Symbol.for("react.memo"),Yd=Symbol.for("react.lazy"),pi=Symbol.iterator;function $d(e){return e===null||typeof e!="object"?null:(e=pi&&e[pi]||e["@@iterator"],typeof e=="function"?e:null)}var mu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hu=Object.assign,gu={};function yn(e,t,n){this.props=e,this.context=t,this.refs=gu,this.updater=n||mu}yn.prototype.isReactComponent={};yn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};yn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function vu(){}vu.prototype=yn.prototype;function po(e,t,n){this.props=e,this.context=t,this.refs=gu,this.updater=n||mu}var mo=po.prototype=new vu;mo.constructor=po;hu(mo,yn.prototype);mo.isPureReactComponent=!0;var mi=Array.isArray,xu=Object.prototype.hasOwnProperty,ho={current:null},yu={key:!0,ref:!0,__self:!0,__source:!0};function Eu(e,t,n){var r,l={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)xu.call(t,r)&&!yu.hasOwnProperty(r)&&(l[r]=t[r]);var a=arguments.length-2;if(a===1)l.children=n;else if(1<a){for(var u=Array(a),f=0;f<a;f++)u[f]=arguments[f+2];l.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)l[r]===void 0&&(l[r]=a[r]);return{$$typeof:mr,type:e,key:s,ref:o,props:l,_owner:ho.current}}function Wd(e,t){return{$$typeof:mr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function go(e){return typeof e=="object"&&e!==null&&e.$$typeof===mr}function Kd(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var hi=/\/+/g;function bl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Kd(""+e.key):t.toString(36)}function Fr(e,t,n,r,l){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case mr:case Pd:o=!0}}if(o)return o=e,l=l(o),e=r===""?"."+bl(o,0):r,mi(l)?(n="",e!=null&&(n=e.replace(hi,"$&/")+"/"),Fr(l,t,n,"",function(f){return f})):l!=null&&(go(l)&&(l=Wd(l,n+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(hi,"$&/")+"/")+e)),t.push(l)),1;if(o=0,r=r===""?".":r+":",mi(e))for(var a=0;a<e.length;a++){s=e[a];var u=r+bl(s,a);o+=Fr(s,t,n,u,l)}else if(u=$d(e),typeof u=="function")for(e=u.call(e),a=0;!(s=e.next()).done;)s=s.value,u=r+bl(s,a++),o+=Fr(s,t,n,u,l);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Er(e,t,n){if(e==null)return e;var r=[],l=0;return Fr(e,r,"","",function(s){return t.call(n,s,l++)}),r}function Qd(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ge={current:null},zr={transition:null},Xd={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:zr,ReactCurrentOwner:ho};function wu(){throw Error("act(...) is not supported in production builds of React.")}D.Children={map:Er,forEach:function(e,t,n){Er(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Er(e,function(){t++}),t},toArray:function(e){return Er(e,function(t){return t})||[]},only:function(e){if(!go(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};D.Component=yn;D.Fragment=Ud;D.Profiler=zd;D.PureComponent=po;D.StrictMode=Fd;D.Suspense=Gd;D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xd;D.act=wu;D.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=hu({},e.props),l=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=ho.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)xu.call(t,u)&&!yu.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var f=0;f<u;f++)a[f]=arguments[f+2];r.children=a}return{$$typeof:mr,type:e.type,key:l,ref:s,props:r,_owner:o}};D.createContext=function(e){return e={$$typeof:bd,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Bd,_context:e},e.Consumer=e};D.createElement=Eu;D.createFactory=function(e){var t=Eu.bind(null,e);return t.type=e,t};D.createRef=function(){return{current:null}};D.forwardRef=function(e){return{$$typeof:Vd,render:e}};D.isValidElement=go;D.lazy=function(e){return{$$typeof:Yd,_payload:{_status:-1,_result:e},_init:Qd}};D.memo=function(e,t){return{$$typeof:Hd,type:e,compare:t===void 0?null:t}};D.startTransition=function(e){var t=zr.transition;zr.transition={};try{e()}finally{zr.transition=t}};D.unstable_act=wu;D.useCallback=function(e,t){return ge.current.useCallback(e,t)};D.useContext=function(e){return ge.current.useContext(e)};D.useDebugValue=function(){};D.useDeferredValue=function(e){return ge.current.useDeferredValue(e)};D.useEffect=function(e,t){return ge.current.useEffect(e,t)};D.useId=function(){return ge.current.useId()};D.useImperativeHandle=function(e,t,n){return ge.current.useImperativeHandle(e,t,n)};D.useInsertionEffect=function(e,t){return ge.current.useInsertionEffect(e,t)};D.useLayoutEffect=function(e,t){return ge.current.useLayoutEffect(e,t)};D.useMemo=function(e,t){return ge.current.useMemo(e,t)};D.useReducer=function(e,t,n){return ge.current.useReducer(e,t,n)};D.useRef=function(e){return ge.current.useRef(e)};D.useState=function(e){return ge.current.useState(e)};D.useSyncExternalStore=function(e,t,n){return ge.current.useSyncExternalStore(e,t,n)};D.useTransition=function(){return ge.current.useTransition()};D.version="18.3.1";pu.exports=D;var w=pu.exports;const Fn=Md(w);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jd=w,Zd=Symbol.for("react.element"),qd=Symbol.for("react.fragment"),ef=Object.prototype.hasOwnProperty,tf=Jd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nf={key:!0,ref:!0,__self:!0,__source:!0};function Su(e,t,n){var r,l={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)ef.call(t,r)&&!nf.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:Zd,type:e,key:s,ref:o,props:l,_owner:tf.current}}El.Fragment=qd;El.jsx=Su;El.jsxs=Su;fu.exports=El;var i=fu.exports,vs={},Nu={exports:{}},Ce={},_u={exports:{}},Iu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,O){var L=k.length;k.push(O);e:for(;0<L;){var B=L-1>>>1,K=k[B];if(0<l(K,O))k[B]=O,k[L]=K,L=B;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var O=k[0],L=k.pop();if(L!==O){k[0]=L;e:for(var B=0,K=k.length,Yt=K>>>1;B<Yt;){var At=2*(B+1)-1,Bl=k[At],jt=At+1,yr=k[jt];if(0>l(Bl,L))jt<K&&0>l(yr,Bl)?(k[B]=yr,k[jt]=L,B=jt):(k[B]=Bl,k[At]=L,B=At);else if(jt<K&&0>l(yr,L))k[B]=yr,k[jt]=L,B=jt;else break e}}return O}function l(k,O){var L=k.sortIndex-O.sortIndex;return L!==0?L:k.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],f=[],m=1,h=null,g=3,v=!1,y=!1,E=!1,S=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,c=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(k){for(var O=n(f);O!==null;){if(O.callback===null)r(f);else if(O.startTime<=k)r(f),O.sortIndex=O.expirationTime,t(u,O);else break;O=n(f)}}function x(k){if(E=!1,p(k),!y)if(n(u)!==null)y=!0,Nn(N);else{var O=n(f);O!==null&&le(x,O.startTime-k)}}function N(k,O){y=!1,E&&(E=!1,d(j),j=-1),v=!0;var L=g;try{for(p(O),h=n(u);h!==null&&(!(h.expirationTime>O)||k&&!X());){var B=h.callback;if(typeof B=="function"){h.callback=null,g=h.priorityLevel;var K=B(h.expirationTime<=O);O=e.unstable_now(),typeof K=="function"?h.callback=K:h===n(u)&&r(u),p(O)}else r(u);h=n(u)}if(h!==null)var Yt=!0;else{var At=n(f);At!==null&&le(x,At.startTime-O),Yt=!1}return Yt}finally{h=null,g=L,v=!1}}var _=!1,C=null,j=-1,P=5,I=-1;function X(){return!(e.unstable_now()-I<P)}function Xe(){if(C!==null){var k=e.unstable_now();I=k;var O=!0;try{O=C(!0,k)}finally{O?it():(_=!1,C=null)}}else _=!1}var it;if(typeof c=="function")it=function(){c(Xe)};else if(typeof MessageChannel<"u"){var Sn=new MessageChannel,zl=Sn.port2;Sn.port1.onmessage=Xe,it=function(){zl.postMessage(null)}}else it=function(){S(Xe,0)};function Nn(k){C=k,_||(_=!0,it())}function le(k,O){j=S(function(){k(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,Nn(N))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(k){switch(g){case 1:case 2:case 3:var O=3;break;default:O=g}var L=g;g=O;try{return k()}finally{g=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,O){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var L=g;g=k;try{return O()}finally{g=L}},e.unstable_scheduleCallback=function(k,O,L){var B=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?B+L:B):L=B,k){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=L+K,k={id:m++,callback:O,priorityLevel:k,startTime:L,expirationTime:K,sortIndex:-1},L>B?(k.sortIndex=L,t(f,k),n(u)===null&&k===n(f)&&(E?(d(j),j=-1):E=!0,le(x,L-B))):(k.sortIndex=K,t(u,k),y||v||(y=!0,Nn(N))),k},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(k){var O=g;return function(){var L=g;g=O;try{return k.apply(this,arguments)}finally{g=L}}}})(Iu);_u.exports=Iu;var rf=_u.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lf=w,ke=rf;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tu=new Set,Xn={};function Gt(e,t){fn(e,t),fn(e+"Capture",t)}function fn(e,t){for(Xn[e]=t,e=0;e<t.length;e++)Tu.add(t[e])}var nt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xs=Object.prototype.hasOwnProperty,sf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gi={},vi={};function of(e){return xs.call(vi,e)?!0:xs.call(gi,e)?!1:sf.test(e)?vi[e]=!0:(gi[e]=!0,!1)}function af(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function uf(e,t,n,r){if(t===null||typeof t>"u"||af(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ve(e,t,n,r,l,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ue[e]=new ve(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ue[t]=new ve(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ue[e]=new ve(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ue[e]=new ve(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ue[e]=new ve(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ue[e]=new ve(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ue[e]=new ve(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ue[e]=new ve(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ue[e]=new ve(e,5,!1,e.toLowerCase(),null,!1,!1)});var vo=/[\-:]([a-z])/g;function xo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vo,xo);ue[t]=new ve(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vo,xo);ue[t]=new ve(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vo,xo);ue[t]=new ve(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ue[e]=new ve(e,1,!1,e.toLowerCase(),null,!1,!1)});ue.xlinkHref=new ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ue[e]=new ve(e,1,!1,e.toLowerCase(),null,!0,!0)});function yo(e,t,n,r){var l=ue.hasOwnProperty(t)?ue[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(uf(t,n,l,r)&&(n=null),r||l===null?of(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ot=lf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wr=Symbol.for("react.element"),Wt=Symbol.for("react.portal"),Kt=Symbol.for("react.fragment"),Eo=Symbol.for("react.strict_mode"),ys=Symbol.for("react.profiler"),ku=Symbol.for("react.provider"),Cu=Symbol.for("react.context"),wo=Symbol.for("react.forward_ref"),Es=Symbol.for("react.suspense"),ws=Symbol.for("react.suspense_list"),So=Symbol.for("react.memo"),ut=Symbol.for("react.lazy"),Au=Symbol.for("react.offscreen"),xi=Symbol.iterator;function In(e){return e===null||typeof e!="object"?null:(e=xi&&e[xi]||e["@@iterator"],typeof e=="function"?e:null)}var H=Object.assign,Vl;function Rn(e){if(Vl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Vl=t&&t[1]||""}return`
`+Vl+e}var Gl=!1;function Hl(e,t){if(!e||Gl)return"";Gl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var r=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){r=f}e.call(t.prototype)}else{try{throw Error()}catch(f){r=f}e()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var l=f.stack.split(`
`),s=r.stack.split(`
`),o=l.length-1,a=s.length-1;1<=o&&0<=a&&l[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(l[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||l[o]!==s[a]){var u=`
`+l[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{Gl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Rn(e):""}function cf(e){switch(e.tag){case 5:return Rn(e.type);case 16:return Rn("Lazy");case 13:return Rn("Suspense");case 19:return Rn("SuspenseList");case 0:case 2:case 15:return e=Hl(e.type,!1),e;case 11:return e=Hl(e.type.render,!1),e;case 1:return e=Hl(e.type,!0),e;default:return""}}function Ss(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Kt:return"Fragment";case Wt:return"Portal";case ys:return"Profiler";case Eo:return"StrictMode";case Es:return"Suspense";case ws:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Cu:return(e.displayName||"Context")+".Consumer";case ku:return(e._context.displayName||"Context")+".Provider";case wo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case So:return t=e.displayName||null,t!==null?t:Ss(e.type)||"Memo";case ut:t=e._payload,e=e._init;try{return Ss(e(t))}catch{}}return null}function df(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ss(t);case 8:return t===Eo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _t(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ju(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ff(e){var t=ju(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Sr(e){e._valueTracker||(e._valueTracker=ff(e))}function Ou(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ju(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Xr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ns(e,t){var n=t.checked;return H({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function yi(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=_t(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Lu(e,t){t=t.checked,t!=null&&yo(e,"checked",t,!1)}function _s(e,t){Lu(e,t);var n=_t(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Is(e,t.type,n):t.hasOwnProperty("defaultValue")&&Is(e,t.type,_t(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ei(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Is(e,t,n){(t!=="number"||Xr(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Mn=Array.isArray;function sn(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+_t(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Ts(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return H({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function wi(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(T(92));if(Mn(n)){if(1<n.length)throw Error(T(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:_t(n)}}function Du(e,t){var n=_t(t.value),r=_t(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Si(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ru(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ks(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ru(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Nr,Mu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Nr=Nr||document.createElement("div"),Nr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Nr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Jn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var zn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pf=["Webkit","ms","Moz","O"];Object.keys(zn).forEach(function(e){pf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zn[t]=zn[e]})});function Pu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||zn.hasOwnProperty(e)&&zn[e]?(""+t).trim():t+"px"}function Uu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Pu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var mf=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cs(e,t){if(t){if(mf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function As(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var js=null;function No(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Os=null,on=null,an=null;function Ni(e){if(e=vr(e)){if(typeof Os!="function")throw Error(T(280));var t=e.stateNode;t&&(t=Il(t),Os(e.stateNode,e.type,t))}}function Fu(e){on?an?an.push(e):an=[e]:on=e}function zu(){if(on){var e=on,t=an;if(an=on=null,Ni(e),t)for(e=0;e<t.length;e++)Ni(t[e])}}function Bu(e,t){return e(t)}function bu(){}var Yl=!1;function Vu(e,t,n){if(Yl)return e(t,n);Yl=!0;try{return Bu(e,t,n)}finally{Yl=!1,(on!==null||an!==null)&&(bu(),zu())}}function Zn(e,t){var n=e.stateNode;if(n===null)return null;var r=Il(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(T(231,t,typeof n));return n}var Ls=!1;if(nt)try{var Tn={};Object.defineProperty(Tn,"passive",{get:function(){Ls=!0}}),window.addEventListener("test",Tn,Tn),window.removeEventListener("test",Tn,Tn)}catch{Ls=!1}function hf(e,t,n,r,l,s,o,a,u){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(m){this.onError(m)}}var Bn=!1,Jr=null,Zr=!1,Ds=null,gf={onError:function(e){Bn=!0,Jr=e}};function vf(e,t,n,r,l,s,o,a,u){Bn=!1,Jr=null,hf.apply(gf,arguments)}function xf(e,t,n,r,l,s,o,a,u){if(vf.apply(this,arguments),Bn){if(Bn){var f=Jr;Bn=!1,Jr=null}else throw Error(T(198));Zr||(Zr=!0,Ds=f)}}function Ht(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Gu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _i(e){if(Ht(e)!==e)throw Error(T(188))}function yf(e){var t=e.alternate;if(!t){if(t=Ht(e),t===null)throw Error(T(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var s=l.alternate;if(s===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return _i(l),e;if(s===r)return _i(l),t;s=s.sibling}throw Error(T(188))}if(n.return!==r.return)n=l,r=s;else{for(var o=!1,a=l.child;a;){if(a===n){o=!0,n=l,r=s;break}if(a===r){o=!0,r=l,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=l;break}if(a===r){o=!0,r=s,n=l;break}a=a.sibling}if(!o)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?e:t}function Hu(e){return e=yf(e),e!==null?Yu(e):null}function Yu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Yu(e);if(t!==null)return t;e=e.sibling}return null}var $u=ke.unstable_scheduleCallback,Ii=ke.unstable_cancelCallback,Ef=ke.unstable_shouldYield,wf=ke.unstable_requestPaint,W=ke.unstable_now,Sf=ke.unstable_getCurrentPriorityLevel,_o=ke.unstable_ImmediatePriority,Wu=ke.unstable_UserBlockingPriority,qr=ke.unstable_NormalPriority,Nf=ke.unstable_LowPriority,Ku=ke.unstable_IdlePriority,wl=null,We=null;function _f(e){if(We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(wl,e,void 0,(e.current.flags&128)===128)}catch{}}var Be=Math.clz32?Math.clz32:kf,If=Math.log,Tf=Math.LN2;function kf(e){return e>>>=0,e===0?32:31-(If(e)/Tf|0)|0}var _r=64,Ir=4194304;function Pn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function el(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~l;a!==0?r=Pn(a):(s&=o,s!==0&&(r=Pn(s)))}else o=n&~l,o!==0?r=Pn(o):s!==0&&(r=Pn(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,s=t&-t,l>=s||l===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Be(t),l=1<<n,r|=e[n],t&=~l;return r}function Cf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Af(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Be(s),a=1<<o,u=l[o];u===-1?(!(a&n)||a&r)&&(l[o]=Cf(a,t)):u<=t&&(e.expiredLanes|=a),s&=~a}}function Rs(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Qu(){var e=_r;return _r<<=1,!(_r&4194240)&&(_r=64),e}function $l(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function hr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Be(t),e[t]=n}function jf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Be(n),s=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~s}}function Io(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Be(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var M=0;function Xu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ju,To,Zu,qu,ec,Ms=!1,Tr=[],gt=null,vt=null,xt=null,qn=new Map,er=new Map,dt=[],Of="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ti(e,t){switch(e){case"focusin":case"focusout":gt=null;break;case"dragenter":case"dragleave":vt=null;break;case"mouseover":case"mouseout":xt=null;break;case"pointerover":case"pointerout":qn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":er.delete(t.pointerId)}}function kn(e,t,n,r,l,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[l]},t!==null&&(t=vr(t),t!==null&&To(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Lf(e,t,n,r,l){switch(t){case"focusin":return gt=kn(gt,e,t,n,r,l),!0;case"dragenter":return vt=kn(vt,e,t,n,r,l),!0;case"mouseover":return xt=kn(xt,e,t,n,r,l),!0;case"pointerover":var s=l.pointerId;return qn.set(s,kn(qn.get(s)||null,e,t,n,r,l)),!0;case"gotpointercapture":return s=l.pointerId,er.set(s,kn(er.get(s)||null,e,t,n,r,l)),!0}return!1}function tc(e){var t=Dt(e.target);if(t!==null){var n=Ht(t);if(n!==null){if(t=n.tag,t===13){if(t=Gu(n),t!==null){e.blockedOn=t,ec(e.priority,function(){Zu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Br(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ps(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);js=r,n.target.dispatchEvent(r),js=null}else return t=vr(n),t!==null&&To(t),e.blockedOn=n,!1;t.shift()}return!0}function ki(e,t,n){Br(e)&&n.delete(t)}function Df(){Ms=!1,gt!==null&&Br(gt)&&(gt=null),vt!==null&&Br(vt)&&(vt=null),xt!==null&&Br(xt)&&(xt=null),qn.forEach(ki),er.forEach(ki)}function Cn(e,t){e.blockedOn===t&&(e.blockedOn=null,Ms||(Ms=!0,ke.unstable_scheduleCallback(ke.unstable_NormalPriority,Df)))}function tr(e){function t(l){return Cn(l,e)}if(0<Tr.length){Cn(Tr[0],e);for(var n=1;n<Tr.length;n++){var r=Tr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(gt!==null&&Cn(gt,e),vt!==null&&Cn(vt,e),xt!==null&&Cn(xt,e),qn.forEach(t),er.forEach(t),n=0;n<dt.length;n++)r=dt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&(n=dt[0],n.blockedOn===null);)tc(n),n.blockedOn===null&&dt.shift()}var un=ot.ReactCurrentBatchConfig,tl=!0;function Rf(e,t,n,r){var l=M,s=un.transition;un.transition=null;try{M=1,ko(e,t,n,r)}finally{M=l,un.transition=s}}function Mf(e,t,n,r){var l=M,s=un.transition;un.transition=null;try{M=4,ko(e,t,n,r)}finally{M=l,un.transition=s}}function ko(e,t,n,r){if(tl){var l=Ps(e,t,n,r);if(l===null)ns(e,t,r,nl,n),Ti(e,r);else if(Lf(l,e,t,n,r))r.stopPropagation();else if(Ti(e,r),t&4&&-1<Of.indexOf(e)){for(;l!==null;){var s=vr(l);if(s!==null&&Ju(s),s=Ps(e,t,n,r),s===null&&ns(e,t,r,nl,n),s===l)break;l=s}l!==null&&r.stopPropagation()}else ns(e,t,r,null,n)}}var nl=null;function Ps(e,t,n,r){if(nl=null,e=No(r),e=Dt(e),e!==null)if(t=Ht(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Gu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return nl=e,null}function nc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sf()){case _o:return 1;case Wu:return 4;case qr:case Nf:return 16;case Ku:return 536870912;default:return 16}default:return 16}}var mt=null,Co=null,br=null;function rc(){if(br)return br;var e,t=Co,n=t.length,r,l="value"in mt?mt.value:mt.textContent,s=l.length;for(e=0;e<n&&t[e]===l[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===l[s-r];r++);return br=l.slice(e,1<r?1-r:void 0)}function Vr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function kr(){return!0}function Ci(){return!1}function Ae(e){function t(n,r,l,s,o){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?kr:Ci,this.isPropagationStopped=Ci,this}return H(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=kr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=kr)},persist:function(){},isPersistent:kr}),t}var En={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ao=Ae(En),gr=H({},En,{view:0,detail:0}),Pf=Ae(gr),Wl,Kl,An,Sl=H({},gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==An&&(An&&e.type==="mousemove"?(Wl=e.screenX-An.screenX,Kl=e.screenY-An.screenY):Kl=Wl=0,An=e),Wl)},movementY:function(e){return"movementY"in e?e.movementY:Kl}}),Ai=Ae(Sl),Uf=H({},Sl,{dataTransfer:0}),Ff=Ae(Uf),zf=H({},gr,{relatedTarget:0}),Ql=Ae(zf),Bf=H({},En,{animationName:0,elapsedTime:0,pseudoElement:0}),bf=Ae(Bf),Vf=H({},En,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gf=Ae(Vf),Hf=H({},En,{data:0}),ji=Ae(Hf),Yf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$f={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Wf[e])?!!t[e]:!1}function jo(){return Kf}var Qf=H({},gr,{key:function(e){if(e.key){var t=Yf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$f[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jo,charCode:function(e){return e.type==="keypress"?Vr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Xf=Ae(Qf),Jf=H({},Sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=Ae(Jf),Zf=H({},gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jo}),qf=Ae(Zf),ep=H({},En,{propertyName:0,elapsedTime:0,pseudoElement:0}),tp=Ae(ep),np=H({},Sl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rp=Ae(np),lp=[9,13,27,32],Oo=nt&&"CompositionEvent"in window,bn=null;nt&&"documentMode"in document&&(bn=document.documentMode);var sp=nt&&"TextEvent"in window&&!bn,lc=nt&&(!Oo||bn&&8<bn&&11>=bn),Li=" ",Di=!1;function sc(e,t){switch(e){case"keyup":return lp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qt=!1;function op(e,t){switch(e){case"compositionend":return oc(t);case"keypress":return t.which!==32?null:(Di=!0,Li);case"textInput":return e=t.data,e===Li&&Di?null:e;default:return null}}function ip(e,t){if(Qt)return e==="compositionend"||!Oo&&sc(e,t)?(e=rc(),br=Co=mt=null,Qt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return lc&&t.locale!=="ko"?null:t.data;default:return null}}var ap={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ri(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ap[e.type]:t==="textarea"}function ic(e,t,n,r){Fu(r),t=rl(t,"onChange"),0<t.length&&(n=new Ao("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vn=null,nr=null;function up(e){xc(e,0)}function Nl(e){var t=Zt(e);if(Ou(t))return e}function cp(e,t){if(e==="change")return t}var ac=!1;if(nt){var Xl;if(nt){var Jl="oninput"in document;if(!Jl){var Mi=document.createElement("div");Mi.setAttribute("oninput","return;"),Jl=typeof Mi.oninput=="function"}Xl=Jl}else Xl=!1;ac=Xl&&(!document.documentMode||9<document.documentMode)}function Pi(){Vn&&(Vn.detachEvent("onpropertychange",uc),nr=Vn=null)}function uc(e){if(e.propertyName==="value"&&Nl(nr)){var t=[];ic(t,nr,e,No(e)),Vu(up,t)}}function dp(e,t,n){e==="focusin"?(Pi(),Vn=t,nr=n,Vn.attachEvent("onpropertychange",uc)):e==="focusout"&&Pi()}function fp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nl(nr)}function pp(e,t){if(e==="click")return Nl(t)}function mp(e,t){if(e==="input"||e==="change")return Nl(t)}function hp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ve=typeof Object.is=="function"?Object.is:hp;function rr(e,t){if(Ve(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!xs.call(t,l)||!Ve(e[l],t[l]))return!1}return!0}function Ui(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fi(e,t){var n=Ui(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ui(n)}}function cc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dc(){for(var e=window,t=Xr();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Xr(e.document)}return t}function Lo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function gp(e){var t=dc(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cc(n.ownerDocument.documentElement,n)){if(r!==null&&Lo(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,s=Math.min(r.start,l);r=r.end===void 0?s:Math.min(r.end,l),!e.extend&&s>r&&(l=r,r=s,s=l),l=Fi(n,s);var o=Fi(n,r);l&&o&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vp=nt&&"documentMode"in document&&11>=document.documentMode,Xt=null,Us=null,Gn=null,Fs=!1;function zi(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fs||Xt==null||Xt!==Xr(r)||(r=Xt,"selectionStart"in r&&Lo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gn&&rr(Gn,r)||(Gn=r,r=rl(Us,"onSelect"),0<r.length&&(t=new Ao("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Xt)))}function Cr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Jt={animationend:Cr("Animation","AnimationEnd"),animationiteration:Cr("Animation","AnimationIteration"),animationstart:Cr("Animation","AnimationStart"),transitionend:Cr("Transition","TransitionEnd")},Zl={},fc={};nt&&(fc=document.createElement("div").style,"AnimationEvent"in window||(delete Jt.animationend.animation,delete Jt.animationiteration.animation,delete Jt.animationstart.animation),"TransitionEvent"in window||delete Jt.transitionend.transition);function _l(e){if(Zl[e])return Zl[e];if(!Jt[e])return e;var t=Jt[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in fc)return Zl[e]=t[n];return e}var pc=_l("animationend"),mc=_l("animationiteration"),hc=_l("animationstart"),gc=_l("transitionend"),vc=new Map,Bi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tt(e,t){vc.set(e,t),Gt(t,[e])}for(var ql=0;ql<Bi.length;ql++){var es=Bi[ql],xp=es.toLowerCase(),yp=es[0].toUpperCase()+es.slice(1);Tt(xp,"on"+yp)}Tt(pc,"onAnimationEnd");Tt(mc,"onAnimationIteration");Tt(hc,"onAnimationStart");Tt("dblclick","onDoubleClick");Tt("focusin","onFocus");Tt("focusout","onBlur");Tt(gc,"onTransitionEnd");fn("onMouseEnter",["mouseout","mouseover"]);fn("onMouseLeave",["mouseout","mouseover"]);fn("onPointerEnter",["pointerout","pointerover"]);fn("onPointerLeave",["pointerout","pointerover"]);Gt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gt("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Un="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ep=new Set("cancel close invalid load scroll toggle".split(" ").concat(Un));function bi(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,xf(r,t,void 0,e),e.currentTarget=null}function xc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,f=a.currentTarget;if(a=a.listener,u!==s&&l.isPropagationStopped())break e;bi(l,a,f),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,f=a.currentTarget,a=a.listener,u!==s&&l.isPropagationStopped())break e;bi(l,a,f),s=u}}}if(Zr)throw e=Ds,Zr=!1,Ds=null,e}function F(e,t){var n=t[Gs];n===void 0&&(n=t[Gs]=new Set);var r=e+"__bubble";n.has(r)||(yc(t,e,2,!1),n.add(r))}function ts(e,t,n){var r=0;t&&(r|=4),yc(n,e,r,t)}var Ar="_reactListening"+Math.random().toString(36).slice(2);function lr(e){if(!e[Ar]){e[Ar]=!0,Tu.forEach(function(n){n!=="selectionchange"&&(Ep.has(n)||ts(n,!1,e),ts(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ar]||(t[Ar]=!0,ts("selectionchange",!1,t))}}function yc(e,t,n,r){switch(nc(t)){case 1:var l=Rf;break;case 4:l=Mf;break;default:l=ko}n=l.bind(null,t,n,e),l=void 0,!Ls||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function ns(e,t,n,r,l){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===l||a.nodeType===8&&a.parentNode===l)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===l||u.nodeType===8&&u.parentNode===l))return;o=o.return}for(;a!==null;){if(o=Dt(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Vu(function(){var f=s,m=No(n),h=[];e:{var g=vc.get(e);if(g!==void 0){var v=Ao,y=e;switch(e){case"keypress":if(Vr(n)===0)break e;case"keydown":case"keyup":v=Xf;break;case"focusin":y="focus",v=Ql;break;case"focusout":y="blur",v=Ql;break;case"beforeblur":case"afterblur":v=Ql;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Ai;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Ff;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=qf;break;case pc:case mc:case hc:v=bf;break;case gc:v=tp;break;case"scroll":v=Pf;break;case"wheel":v=rp;break;case"copy":case"cut":case"paste":v=Gf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Oi}var E=(t&4)!==0,S=!E&&e==="scroll",d=E?g!==null?g+"Capture":null:g;E=[];for(var c=f,p;c!==null;){p=c;var x=p.stateNode;if(p.tag===5&&x!==null&&(p=x,d!==null&&(x=Zn(c,d),x!=null&&E.push(sr(c,x,p)))),S)break;c=c.return}0<E.length&&(g=new v(g,y,null,n,m),h.push({event:g,listeners:E}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",g&&n!==js&&(y=n.relatedTarget||n.fromElement)&&(Dt(y)||y[rt]))break e;if((v||g)&&(g=m.window===m?m:(g=m.ownerDocument)?g.defaultView||g.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=f,y=y?Dt(y):null,y!==null&&(S=Ht(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=f),v!==y)){if(E=Ai,x="onMouseLeave",d="onMouseEnter",c="mouse",(e==="pointerout"||e==="pointerover")&&(E=Oi,x="onPointerLeave",d="onPointerEnter",c="pointer"),S=v==null?g:Zt(v),p=y==null?g:Zt(y),g=new E(x,c+"leave",v,n,m),g.target=S,g.relatedTarget=p,x=null,Dt(m)===f&&(E=new E(d,c+"enter",y,n,m),E.target=p,E.relatedTarget=S,x=E),S=x,v&&y)t:{for(E=v,d=y,c=0,p=E;p;p=$t(p))c++;for(p=0,x=d;x;x=$t(x))p++;for(;0<c-p;)E=$t(E),c--;for(;0<p-c;)d=$t(d),p--;for(;c--;){if(E===d||d!==null&&E===d.alternate)break t;E=$t(E),d=$t(d)}E=null}else E=null;v!==null&&Vi(h,g,v,E,!1),y!==null&&S!==null&&Vi(h,S,y,E,!0)}}e:{if(g=f?Zt(f):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var N=cp;else if(Ri(g))if(ac)N=mp;else{N=fp;var _=dp}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(N=pp);if(N&&(N=N(e,f))){ic(h,N,n,m);break e}_&&_(e,g,f),e==="focusout"&&(_=g._wrapperState)&&_.controlled&&g.type==="number"&&Is(g,"number",g.value)}switch(_=f?Zt(f):window,e){case"focusin":(Ri(_)||_.contentEditable==="true")&&(Xt=_,Us=f,Gn=null);break;case"focusout":Gn=Us=Xt=null;break;case"mousedown":Fs=!0;break;case"contextmenu":case"mouseup":case"dragend":Fs=!1,zi(h,n,m);break;case"selectionchange":if(vp)break;case"keydown":case"keyup":zi(h,n,m)}var C;if(Oo)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Qt?sc(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(lc&&n.locale!=="ko"&&(Qt||j!=="onCompositionStart"?j==="onCompositionEnd"&&Qt&&(C=rc()):(mt=m,Co="value"in mt?mt.value:mt.textContent,Qt=!0)),_=rl(f,j),0<_.length&&(j=new ji(j,e,null,n,m),h.push({event:j,listeners:_}),C?j.data=C:(C=oc(n),C!==null&&(j.data=C)))),(C=sp?op(e,n):ip(e,n))&&(f=rl(f,"onBeforeInput"),0<f.length&&(m=new ji("onBeforeInput","beforeinput",null,n,m),h.push({event:m,listeners:f}),m.data=C))}xc(h,t)})}function sr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rl(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,s=l.stateNode;l.tag===5&&s!==null&&(l=s,s=Zn(e,n),s!=null&&r.unshift(sr(e,s,l)),s=Zn(e,t),s!=null&&r.push(sr(e,s,l))),e=e.return}return r}function $t(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Vi(e,t,n,r,l){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,f=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&f!==null&&(a=f,l?(u=Zn(n,s),u!=null&&o.unshift(sr(n,u,a))):l||(u=Zn(n,s),u!=null&&o.push(sr(n,u,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var wp=/\r\n?/g,Sp=/\u0000|\uFFFD/g;function Gi(e){return(typeof e=="string"?e:""+e).replace(wp,`
`).replace(Sp,"")}function jr(e,t,n){if(t=Gi(t),Gi(e)!==t&&n)throw Error(T(425))}function ll(){}var zs=null,Bs=null;function bs(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vs=typeof setTimeout=="function"?setTimeout:void 0,Np=typeof clearTimeout=="function"?clearTimeout:void 0,Hi=typeof Promise=="function"?Promise:void 0,_p=typeof queueMicrotask=="function"?queueMicrotask:typeof Hi<"u"?function(e){return Hi.resolve(null).then(e).catch(Ip)}:Vs;function Ip(e){setTimeout(function(){throw e})}function rs(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),tr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);tr(t)}function yt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Yi(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var wn=Math.random().toString(36).slice(2),$e="__reactFiber$"+wn,or="__reactProps$"+wn,rt="__reactContainer$"+wn,Gs="__reactEvents$"+wn,Tp="__reactListeners$"+wn,kp="__reactHandles$"+wn;function Dt(e){var t=e[$e];if(t)return t;for(var n=e.parentNode;n;){if(t=n[rt]||n[$e]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Yi(e);e!==null;){if(n=e[$e])return n;e=Yi(e)}return t}e=n,n=e.parentNode}return null}function vr(e){return e=e[$e]||e[rt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Zt(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function Il(e){return e[or]||null}var Hs=[],qt=-1;function kt(e){return{current:e}}function z(e){0>qt||(e.current=Hs[qt],Hs[qt]=null,qt--)}function U(e,t){qt++,Hs[qt]=e.current,e.current=t}var It={},pe=kt(It),Ee=kt(!1),Ft=It;function pn(e,t){var n=e.type.contextTypes;if(!n)return It;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},s;for(s in n)l[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function we(e){return e=e.childContextTypes,e!=null}function sl(){z(Ee),z(pe)}function $i(e,t,n){if(pe.current!==It)throw Error(T(168));U(pe,t),U(Ee,n)}function Ec(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(T(108,df(e)||"Unknown",l));return H({},n,r)}function ol(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||It,Ft=pe.current,U(pe,e),U(Ee,Ee.current),!0}function Wi(e,t,n){var r=e.stateNode;if(!r)throw Error(T(169));n?(e=Ec(e,t,Ft),r.__reactInternalMemoizedMergedChildContext=e,z(Ee),z(pe),U(pe,e)):z(Ee),U(Ee,n)}var Ze=null,Tl=!1,ls=!1;function wc(e){Ze===null?Ze=[e]:Ze.push(e)}function Cp(e){Tl=!0,wc(e)}function Ct(){if(!ls&&Ze!==null){ls=!0;var e=0,t=M;try{var n=Ze;for(M=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ze=null,Tl=!1}catch(l){throw Ze!==null&&(Ze=Ze.slice(e+1)),$u(_o,Ct),l}finally{M=t,ls=!1}}return null}var en=[],tn=0,il=null,al=0,je=[],Oe=0,zt=null,qe=1,et="";function Ot(e,t){en[tn++]=al,en[tn++]=il,il=e,al=t}function Sc(e,t,n){je[Oe++]=qe,je[Oe++]=et,je[Oe++]=zt,zt=e;var r=qe;e=et;var l=32-Be(r)-1;r&=~(1<<l),n+=1;var s=32-Be(t)+l;if(30<s){var o=l-l%5;s=(r&(1<<o)-1).toString(32),r>>=o,l-=o,qe=1<<32-Be(t)+l|n<<l|r,et=s+e}else qe=1<<s|n<<l|r,et=e}function Do(e){e.return!==null&&(Ot(e,1),Sc(e,1,0))}function Ro(e){for(;e===il;)il=en[--tn],en[tn]=null,al=en[--tn],en[tn]=null;for(;e===zt;)zt=je[--Oe],je[Oe]=null,et=je[--Oe],je[Oe]=null,qe=je[--Oe],je[Oe]=null}var Te=null,Ie=null,b=!1,ze=null;function Nc(e,t){var n=Le(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ki(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Te=e,Ie=yt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Te=e,Ie=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=zt!==null?{id:qe,overflow:et}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Le(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Te=e,Ie=null,!0):!1;default:return!1}}function Ys(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $s(e){if(b){var t=Ie;if(t){var n=t;if(!Ki(e,t)){if(Ys(e))throw Error(T(418));t=yt(n.nextSibling);var r=Te;t&&Ki(e,t)?Nc(r,n):(e.flags=e.flags&-4097|2,b=!1,Te=e)}}else{if(Ys(e))throw Error(T(418));e.flags=e.flags&-4097|2,b=!1,Te=e}}}function Qi(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Te=e}function Or(e){if(e!==Te)return!1;if(!b)return Qi(e),b=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bs(e.type,e.memoizedProps)),t&&(t=Ie)){if(Ys(e))throw _c(),Error(T(418));for(;t;)Nc(e,t),t=yt(t.nextSibling)}if(Qi(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ie=yt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ie=null}}else Ie=Te?yt(e.stateNode.nextSibling):null;return!0}function _c(){for(var e=Ie;e;)e=yt(e.nextSibling)}function mn(){Ie=Te=null,b=!1}function Mo(e){ze===null?ze=[e]:ze.push(e)}var Ap=ot.ReactCurrentBatchConfig;function jn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,e));var l=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=l.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,e))}return e}function Lr(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xi(e){var t=e._init;return t(e._payload)}function Ic(e){function t(d,c){if(e){var p=d.deletions;p===null?(d.deletions=[c],d.flags|=16):p.push(c)}}function n(d,c){if(!e)return null;for(;c!==null;)t(d,c),c=c.sibling;return null}function r(d,c){for(d=new Map;c!==null;)c.key!==null?d.set(c.key,c):d.set(c.index,c),c=c.sibling;return d}function l(d,c){return d=Nt(d,c),d.index=0,d.sibling=null,d}function s(d,c,p){return d.index=p,e?(p=d.alternate,p!==null?(p=p.index,p<c?(d.flags|=2,c):p):(d.flags|=2,c)):(d.flags|=1048576,c)}function o(d){return e&&d.alternate===null&&(d.flags|=2),d}function a(d,c,p,x){return c===null||c.tag!==6?(c=ds(p,d.mode,x),c.return=d,c):(c=l(c,p),c.return=d,c)}function u(d,c,p,x){var N=p.type;return N===Kt?m(d,c,p.props.children,x,p.key):c!==null&&(c.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ut&&Xi(N)===c.type)?(x=l(c,p.props),x.ref=jn(d,c,p),x.return=d,x):(x=Qr(p.type,p.key,p.props,null,d.mode,x),x.ref=jn(d,c,p),x.return=d,x)}function f(d,c,p,x){return c===null||c.tag!==4||c.stateNode.containerInfo!==p.containerInfo||c.stateNode.implementation!==p.implementation?(c=fs(p,d.mode,x),c.return=d,c):(c=l(c,p.children||[]),c.return=d,c)}function m(d,c,p,x,N){return c===null||c.tag!==7?(c=Ut(p,d.mode,x,N),c.return=d,c):(c=l(c,p),c.return=d,c)}function h(d,c,p){if(typeof c=="string"&&c!==""||typeof c=="number")return c=ds(""+c,d.mode,p),c.return=d,c;if(typeof c=="object"&&c!==null){switch(c.$$typeof){case wr:return p=Qr(c.type,c.key,c.props,null,d.mode,p),p.ref=jn(d,null,c),p.return=d,p;case Wt:return c=fs(c,d.mode,p),c.return=d,c;case ut:var x=c._init;return h(d,x(c._payload),p)}if(Mn(c)||In(c))return c=Ut(c,d.mode,p,null),c.return=d,c;Lr(d,c)}return null}function g(d,c,p,x){var N=c!==null?c.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return N!==null?null:a(d,c,""+p,x);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case wr:return p.key===N?u(d,c,p,x):null;case Wt:return p.key===N?f(d,c,p,x):null;case ut:return N=p._init,g(d,c,N(p._payload),x)}if(Mn(p)||In(p))return N!==null?null:m(d,c,p,x,null);Lr(d,p)}return null}function v(d,c,p,x,N){if(typeof x=="string"&&x!==""||typeof x=="number")return d=d.get(p)||null,a(c,d,""+x,N);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case wr:return d=d.get(x.key===null?p:x.key)||null,u(c,d,x,N);case Wt:return d=d.get(x.key===null?p:x.key)||null,f(c,d,x,N);case ut:var _=x._init;return v(d,c,p,_(x._payload),N)}if(Mn(x)||In(x))return d=d.get(p)||null,m(c,d,x,N,null);Lr(c,x)}return null}function y(d,c,p,x){for(var N=null,_=null,C=c,j=c=0,P=null;C!==null&&j<p.length;j++){C.index>j?(P=C,C=null):P=C.sibling;var I=g(d,C,p[j],x);if(I===null){C===null&&(C=P);break}e&&C&&I.alternate===null&&t(d,C),c=s(I,c,j),_===null?N=I:_.sibling=I,_=I,C=P}if(j===p.length)return n(d,C),b&&Ot(d,j),N;if(C===null){for(;j<p.length;j++)C=h(d,p[j],x),C!==null&&(c=s(C,c,j),_===null?N=C:_.sibling=C,_=C);return b&&Ot(d,j),N}for(C=r(d,C);j<p.length;j++)P=v(C,d,j,p[j],x),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?j:P.key),c=s(P,c,j),_===null?N=P:_.sibling=P,_=P);return e&&C.forEach(function(X){return t(d,X)}),b&&Ot(d,j),N}function E(d,c,p,x){var N=In(p);if(typeof N!="function")throw Error(T(150));if(p=N.call(p),p==null)throw Error(T(151));for(var _=N=null,C=c,j=c=0,P=null,I=p.next();C!==null&&!I.done;j++,I=p.next()){C.index>j?(P=C,C=null):P=C.sibling;var X=g(d,C,I.value,x);if(X===null){C===null&&(C=P);break}e&&C&&X.alternate===null&&t(d,C),c=s(X,c,j),_===null?N=X:_.sibling=X,_=X,C=P}if(I.done)return n(d,C),b&&Ot(d,j),N;if(C===null){for(;!I.done;j++,I=p.next())I=h(d,I.value,x),I!==null&&(c=s(I,c,j),_===null?N=I:_.sibling=I,_=I);return b&&Ot(d,j),N}for(C=r(d,C);!I.done;j++,I=p.next())I=v(C,d,j,I.value,x),I!==null&&(e&&I.alternate!==null&&C.delete(I.key===null?j:I.key),c=s(I,c,j),_===null?N=I:_.sibling=I,_=I);return e&&C.forEach(function(Xe){return t(d,Xe)}),b&&Ot(d,j),N}function S(d,c,p,x){if(typeof p=="object"&&p!==null&&p.type===Kt&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case wr:e:{for(var N=p.key,_=c;_!==null;){if(_.key===N){if(N=p.type,N===Kt){if(_.tag===7){n(d,_.sibling),c=l(_,p.props.children),c.return=d,d=c;break e}}else if(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ut&&Xi(N)===_.type){n(d,_.sibling),c=l(_,p.props),c.ref=jn(d,_,p),c.return=d,d=c;break e}n(d,_);break}else t(d,_);_=_.sibling}p.type===Kt?(c=Ut(p.props.children,d.mode,x,p.key),c.return=d,d=c):(x=Qr(p.type,p.key,p.props,null,d.mode,x),x.ref=jn(d,c,p),x.return=d,d=x)}return o(d);case Wt:e:{for(_=p.key;c!==null;){if(c.key===_)if(c.tag===4&&c.stateNode.containerInfo===p.containerInfo&&c.stateNode.implementation===p.implementation){n(d,c.sibling),c=l(c,p.children||[]),c.return=d,d=c;break e}else{n(d,c);break}else t(d,c);c=c.sibling}c=fs(p,d.mode,x),c.return=d,d=c}return o(d);case ut:return _=p._init,S(d,c,_(p._payload),x)}if(Mn(p))return y(d,c,p,x);if(In(p))return E(d,c,p,x);Lr(d,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,c!==null&&c.tag===6?(n(d,c.sibling),c=l(c,p),c.return=d,d=c):(n(d,c),c=ds(p,d.mode,x),c.return=d,d=c),o(d)):n(d,c)}return S}var hn=Ic(!0),Tc=Ic(!1),ul=kt(null),cl=null,nn=null,Po=null;function Uo(){Po=nn=cl=null}function Fo(e){var t=ul.current;z(ul),e._currentValue=t}function Ws(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function cn(e,t){cl=e,Po=nn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ye=!0),e.firstContext=null)}function Re(e){var t=e._currentValue;if(Po!==e)if(e={context:e,memoizedValue:t,next:null},nn===null){if(cl===null)throw Error(T(308));nn=e,cl.dependencies={lanes:0,firstContext:e}}else nn=nn.next=e;return t}var Rt=null;function zo(e){Rt===null?Rt=[e]:Rt.push(e)}function kc(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,zo(t)):(n.next=l.next,l.next=n),t.interleaved=n,lt(e,r)}function lt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ct=!1;function Bo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function tt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Et(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,R&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,lt(e,n)}return l=r.interleaved,l===null?(t.next=t,zo(r)):(t.next=l.next,l.next=t),r.interleaved=t,lt(e,n)}function Gr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Io(e,n)}}function Ji(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?l=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?l=s=t:s=s.next=t}else l=s=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function dl(e,t,n,r){var l=e.updateQueue;ct=!1;var s=l.firstBaseUpdate,o=l.lastBaseUpdate,a=l.shared.pending;if(a!==null){l.shared.pending=null;var u=a,f=u.next;u.next=null,o===null?s=f:o.next=f,o=u;var m=e.alternate;m!==null&&(m=m.updateQueue,a=m.lastBaseUpdate,a!==o&&(a===null?m.firstBaseUpdate=f:a.next=f,m.lastBaseUpdate=u))}if(s!==null){var h=l.baseState;o=0,m=f=u=null,a=s;do{var g=a.lane,v=a.eventTime;if((r&g)===g){m!==null&&(m=m.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,E=a;switch(g=t,v=n,E.tag){case 1:if(y=E.payload,typeof y=="function"){h=y.call(v,h,g);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=E.payload,g=typeof y=="function"?y.call(v,h,g):y,g==null)break e;h=H({},h,g);break e;case 2:ct=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,g=l.effects,g===null?l.effects=[a]:g.push(a))}else v={eventTime:v,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},m===null?(f=m=v,u=h):m=m.next=v,o|=g;if(a=a.next,a===null){if(a=l.shared.pending,a===null)break;g=a,a=g.next,g.next=null,l.lastBaseUpdate=g,l.shared.pending=null}}while(!0);if(m===null&&(u=h),l.baseState=u,l.firstBaseUpdate=f,l.lastBaseUpdate=m,t=l.shared.interleaved,t!==null){l=t;do o|=l.lane,l=l.next;while(l!==t)}else s===null&&(l.shared.lanes=0);bt|=o,e.lanes=o,e.memoizedState=h}}function Zi(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(T(191,l));l.call(r)}}}var xr={},Ke=kt(xr),ir=kt(xr),ar=kt(xr);function Mt(e){if(e===xr)throw Error(T(174));return e}function bo(e,t){switch(U(ar,t),U(ir,e),U(Ke,xr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ks(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ks(t,e)}z(Ke),U(Ke,t)}function gn(){z(Ke),z(ir),z(ar)}function Ac(e){Mt(ar.current);var t=Mt(Ke.current),n=ks(t,e.type);t!==n&&(U(ir,e),U(Ke,n))}function Vo(e){ir.current===e&&(z(Ke),z(ir))}var V=kt(0);function fl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ss=[];function Go(){for(var e=0;e<ss.length;e++)ss[e]._workInProgressVersionPrimary=null;ss.length=0}var Hr=ot.ReactCurrentDispatcher,os=ot.ReactCurrentBatchConfig,Bt=0,G=null,J=null,ne=null,pl=!1,Hn=!1,ur=0,jp=0;function ce(){throw Error(T(321))}function Ho(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ve(e[n],t[n]))return!1;return!0}function Yo(e,t,n,r,l,s){if(Bt=s,G=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Hr.current=e===null||e.memoizedState===null?Rp:Mp,e=n(r,l),Hn){s=0;do{if(Hn=!1,ur=0,25<=s)throw Error(T(301));s+=1,ne=J=null,t.updateQueue=null,Hr.current=Pp,e=n(r,l)}while(Hn)}if(Hr.current=ml,t=J!==null&&J.next!==null,Bt=0,ne=J=G=null,pl=!1,t)throw Error(T(300));return e}function $o(){var e=ur!==0;return ur=0,e}function Ye(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ne===null?G.memoizedState=ne=e:ne=ne.next=e,ne}function Me(){if(J===null){var e=G.alternate;e=e!==null?e.memoizedState:null}else e=J.next;var t=ne===null?G.memoizedState:ne.next;if(t!==null)ne=t,J=e;else{if(e===null)throw Error(T(310));J=e,e={memoizedState:J.memoizedState,baseState:J.baseState,baseQueue:J.baseQueue,queue:J.queue,next:null},ne===null?G.memoizedState=ne=e:ne=ne.next=e}return ne}function cr(e,t){return typeof t=="function"?t(e):t}function is(e){var t=Me(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=J,l=r.baseQueue,s=n.pending;if(s!==null){if(l!==null){var o=l.next;l.next=s.next,s.next=o}r.baseQueue=l=s,n.pending=null}if(l!==null){s=l.next,r=r.baseState;var a=o=null,u=null,f=s;do{var m=f.lane;if((Bt&m)===m)u!==null&&(u=u.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:e(r,f.action);else{var h={lane:m,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};u===null?(a=u=h,o=r):u=u.next=h,G.lanes|=m,bt|=m}f=f.next}while(f!==null&&f!==s);u===null?o=r:u.next=a,Ve(r,t.memoizedState)||(ye=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do s=l.lane,G.lanes|=s,bt|=s,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function as(e){var t=Me(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,s=t.memoizedState;if(l!==null){n.pending=null;var o=l=l.next;do s=e(s,o.action),o=o.next;while(o!==l);Ve(s,t.memoizedState)||(ye=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function jc(){}function Oc(e,t){var n=G,r=Me(),l=t(),s=!Ve(r.memoizedState,l);if(s&&(r.memoizedState=l,ye=!0),r=r.queue,Wo(Rc.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||ne!==null&&ne.memoizedState.tag&1){if(n.flags|=2048,dr(9,Dc.bind(null,n,r,l,t),void 0,null),re===null)throw Error(T(349));Bt&30||Lc(n,t,l)}return l}function Lc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=G.updateQueue,t===null?(t={lastEffect:null,stores:null},G.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Dc(e,t,n,r){t.value=n,t.getSnapshot=r,Mc(t)&&Pc(e)}function Rc(e,t,n){return n(function(){Mc(t)&&Pc(e)})}function Mc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ve(e,n)}catch{return!0}}function Pc(e){var t=lt(e,1);t!==null&&be(t,e,1,-1)}function qi(e){var t=Ye();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:e},t.queue=e,e=e.dispatch=Dp.bind(null,G,e),[t.memoizedState,e]}function dr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=G.updateQueue,t===null?(t={lastEffect:null,stores:null},G.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Uc(){return Me().memoizedState}function Yr(e,t,n,r){var l=Ye();G.flags|=e,l.memoizedState=dr(1|t,n,void 0,r===void 0?null:r)}function kl(e,t,n,r){var l=Me();r=r===void 0?null:r;var s=void 0;if(J!==null){var o=J.memoizedState;if(s=o.destroy,r!==null&&Ho(r,o.deps)){l.memoizedState=dr(t,n,s,r);return}}G.flags|=e,l.memoizedState=dr(1|t,n,s,r)}function ea(e,t){return Yr(8390656,8,e,t)}function Wo(e,t){return kl(2048,8,e,t)}function Fc(e,t){return kl(4,2,e,t)}function zc(e,t){return kl(4,4,e,t)}function Bc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bc(e,t,n){return n=n!=null?n.concat([e]):null,kl(4,4,Bc.bind(null,t,e),n)}function Ko(){}function Vc(e,t){var n=Me();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ho(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Gc(e,t){var n=Me();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ho(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hc(e,t,n){return Bt&21?(Ve(n,t)||(n=Qu(),G.lanes|=n,bt|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ye=!0),e.memoizedState=n)}function Op(e,t){var n=M;M=n!==0&&4>n?n:4,e(!0);var r=os.transition;os.transition={};try{e(!1),t()}finally{M=n,os.transition=r}}function Yc(){return Me().memoizedState}function Lp(e,t,n){var r=St(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$c(e))Wc(t,n);else if(n=kc(e,t,n,r),n!==null){var l=he();be(n,e,r,l),Kc(n,t,r)}}function Dp(e,t,n){var r=St(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($c(e))Wc(t,l);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(l.hasEagerState=!0,l.eagerState=a,Ve(a,o)){var u=t.interleaved;u===null?(l.next=l,zo(t)):(l.next=u.next,u.next=l),t.interleaved=l;return}}catch{}finally{}n=kc(e,t,l,r),n!==null&&(l=he(),be(n,e,r,l),Kc(n,t,r))}}function $c(e){var t=e.alternate;return e===G||t!==null&&t===G}function Wc(e,t){Hn=pl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Kc(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Io(e,n)}}var ml={readContext:Re,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useInsertionEffect:ce,useLayoutEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useMutableSource:ce,useSyncExternalStore:ce,useId:ce,unstable_isNewReconciler:!1},Rp={readContext:Re,useCallback:function(e,t){return Ye().memoizedState=[e,t===void 0?null:t],e},useContext:Re,useEffect:ea,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Yr(4194308,4,Bc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yr(4,2,e,t)},useMemo:function(e,t){var n=Ye();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ye();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Lp.bind(null,G,e),[r.memoizedState,e]},useRef:function(e){var t=Ye();return e={current:e},t.memoizedState=e},useState:qi,useDebugValue:Ko,useDeferredValue:function(e){return Ye().memoizedState=e},useTransition:function(){var e=qi(!1),t=e[0];return e=Op.bind(null,e[1]),Ye().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=G,l=Ye();if(b){if(n===void 0)throw Error(T(407));n=n()}else{if(n=t(),re===null)throw Error(T(349));Bt&30||Lc(r,t,n)}l.memoizedState=n;var s={value:n,getSnapshot:t};return l.queue=s,ea(Rc.bind(null,r,s,e),[e]),r.flags|=2048,dr(9,Dc.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Ye(),t=re.identifierPrefix;if(b){var n=et,r=qe;n=(r&~(1<<32-Be(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ur++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=jp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Mp={readContext:Re,useCallback:Vc,useContext:Re,useEffect:Wo,useImperativeHandle:bc,useInsertionEffect:Fc,useLayoutEffect:zc,useMemo:Gc,useReducer:is,useRef:Uc,useState:function(){return is(cr)},useDebugValue:Ko,useDeferredValue:function(e){var t=Me();return Hc(t,J.memoizedState,e)},useTransition:function(){var e=is(cr)[0],t=Me().memoizedState;return[e,t]},useMutableSource:jc,useSyncExternalStore:Oc,useId:Yc,unstable_isNewReconciler:!1},Pp={readContext:Re,useCallback:Vc,useContext:Re,useEffect:Wo,useImperativeHandle:bc,useInsertionEffect:Fc,useLayoutEffect:zc,useMemo:Gc,useReducer:as,useRef:Uc,useState:function(){return as(cr)},useDebugValue:Ko,useDeferredValue:function(e){var t=Me();return J===null?t.memoizedState=e:Hc(t,J.memoizedState,e)},useTransition:function(){var e=as(cr)[0],t=Me().memoizedState;return[e,t]},useMutableSource:jc,useSyncExternalStore:Oc,useId:Yc,unstable_isNewReconciler:!1};function Ue(e,t){if(e&&e.defaultProps){t=H({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ks(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:H({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Cl={isMounted:function(e){return(e=e._reactInternals)?Ht(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=he(),l=St(e),s=tt(r,l);s.payload=t,n!=null&&(s.callback=n),t=Et(e,s,l),t!==null&&(be(t,e,l,r),Gr(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=he(),l=St(e),s=tt(r,l);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Et(e,s,l),t!==null&&(be(t,e,l,r),Gr(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=he(),r=St(e),l=tt(n,r);l.tag=2,t!=null&&(l.callback=t),t=Et(e,l,r),t!==null&&(be(t,e,r,n),Gr(t,e,r))}};function ta(e,t,n,r,l,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!rr(n,r)||!rr(l,s):!0}function Qc(e,t,n){var r=!1,l=It,s=t.contextType;return typeof s=="object"&&s!==null?s=Re(s):(l=we(t)?Ft:pe.current,r=t.contextTypes,s=(r=r!=null)?pn(e,l):It),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Cl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=s),t}function na(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Cl.enqueueReplaceState(t,t.state,null)}function Qs(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Bo(e);var s=t.contextType;typeof s=="object"&&s!==null?l.context=Re(s):(s=we(t)?Ft:pe.current,l.context=pn(e,s)),l.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Ks(e,t,s,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Cl.enqueueReplaceState(l,l.state,null),dl(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function vn(e,t){try{var n="",r=t;do n+=cf(r),r=r.return;while(r);var l=n}catch(s){l=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:l,digest:null}}function us(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Xs(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Up=typeof WeakMap=="function"?WeakMap:Map;function Xc(e,t,n){n=tt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){gl||(gl=!0,oo=r),Xs(e,t)},n}function Jc(e,t,n){n=tt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){Xs(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Xs(e,t),typeof r!="function"&&(wt===null?wt=new Set([this]):wt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function ra(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Up;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=Jp.bind(null,e,t,n),t.then(e,e))}function la(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function sa(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=tt(-1,1),t.tag=2,Et(n,t,1))),n.lanes|=1),e)}var Fp=ot.ReactCurrentOwner,ye=!1;function me(e,t,n,r){t.child=e===null?Tc(t,null,n,r):hn(t,e.child,n,r)}function oa(e,t,n,r,l){n=n.render;var s=t.ref;return cn(t,l),r=Yo(e,t,n,r,s,l),n=$o(),e!==null&&!ye?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,st(e,t,l)):(b&&n&&Do(t),t.flags|=1,me(e,t,r,l),t.child)}function ia(e,t,n,r,l){if(e===null){var s=n.type;return typeof s=="function"&&!ni(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Zc(e,t,s,r,l)):(e=Qr(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&l)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:rr,n(o,r)&&e.ref===t.ref)return st(e,t,l)}return t.flags|=1,e=Nt(s,r),e.ref=t.ref,e.return=t,t.child=e}function Zc(e,t,n,r,l){if(e!==null){var s=e.memoizedProps;if(rr(s,r)&&e.ref===t.ref)if(ye=!1,t.pendingProps=r=s,(e.lanes&l)!==0)e.flags&131072&&(ye=!0);else return t.lanes=e.lanes,st(e,t,l)}return Js(e,t,n,r,l)}function qc(e,t,n){var r=t.pendingProps,l=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},U(ln,_e),_e|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,U(ln,_e),_e|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,U(ln,_e),_e|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,U(ln,_e),_e|=r;return me(e,t,l,n),t.child}function ed(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Js(e,t,n,r,l){var s=we(n)?Ft:pe.current;return s=pn(t,s),cn(t,l),n=Yo(e,t,n,r,s,l),r=$o(),e!==null&&!ye?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,st(e,t,l)):(b&&r&&Do(t),t.flags|=1,me(e,t,n,l),t.child)}function aa(e,t,n,r,l){if(we(n)){var s=!0;ol(t)}else s=!1;if(cn(t,l),t.stateNode===null)$r(e,t),Qc(t,n,r),Qs(t,n,r,l),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,f=n.contextType;typeof f=="object"&&f!==null?f=Re(f):(f=we(n)?Ft:pe.current,f=pn(t,f));var m=n.getDerivedStateFromProps,h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==f)&&na(t,o,r,f),ct=!1;var g=t.memoizedState;o.state=g,dl(t,r,o,l),u=t.memoizedState,a!==r||g!==u||Ee.current||ct?(typeof m=="function"&&(Ks(t,n,m,r),u=t.memoizedState),(a=ct||ta(t,n,a,r,g,u,f))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=f,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Cc(e,t),a=t.memoizedProps,f=t.type===t.elementType?a:Ue(t.type,a),o.props=f,h=t.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Re(u):(u=we(n)?Ft:pe.current,u=pn(t,u));var v=n.getDerivedStateFromProps;(m=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||g!==u)&&na(t,o,r,u),ct=!1,g=t.memoizedState,o.state=g,dl(t,r,o,l);var y=t.memoizedState;a!==h||g!==y||Ee.current||ct?(typeof v=="function"&&(Ks(t,n,v,r),y=t.memoizedState),(f=ct||ta(t,n,f,r,g,y,u)||!1)?(m||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=u,r=f):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return Zs(e,t,n,r,s,l)}function Zs(e,t,n,r,l,s){ed(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return l&&Wi(t,n,!1),st(e,t,s);r=t.stateNode,Fp.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=hn(t,e.child,null,s),t.child=hn(t,null,a,s)):me(e,t,a,s),t.memoizedState=r.state,l&&Wi(t,n,!0),t.child}function td(e){var t=e.stateNode;t.pendingContext?$i(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$i(e,t.context,!1),bo(e,t.containerInfo)}function ua(e,t,n,r,l){return mn(),Mo(l),t.flags|=256,me(e,t,n,r),t.child}var qs={dehydrated:null,treeContext:null,retryLane:0};function eo(e){return{baseLanes:e,cachePool:null,transitions:null}}function nd(e,t,n){var r=t.pendingProps,l=V.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(l&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),U(V,l&1),e===null)return $s(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ol(o,r,0,null),e=Ut(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=eo(n),t.memoizedState=qs,e):Qo(t,o));if(l=e.memoizedState,l!==null&&(a=l.dehydrated,a!==null))return zp(e,t,o,r,a,l,n);if(s){s=r.fallback,o=t.mode,l=e.child,a=l.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Nt(l,u),r.subtreeFlags=l.subtreeFlags&14680064),a!==null?s=Nt(a,s):(s=Ut(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?eo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=qs,r}return s=e.child,e=s.sibling,r=Nt(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Qo(e,t){return t=Ol({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Dr(e,t,n,r){return r!==null&&Mo(r),hn(t,e.child,null,n),e=Qo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zp(e,t,n,r,l,s,o){if(n)return t.flags&256?(t.flags&=-257,r=us(Error(T(422))),Dr(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,l=t.mode,r=Ol({mode:"visible",children:r.children},l,0,null),s=Ut(s,l,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&hn(t,e.child,null,o),t.child.memoizedState=eo(o),t.memoizedState=qs,s);if(!(t.mode&1))return Dr(e,t,o,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(T(419)),r=us(s,r,void 0),Dr(e,t,o,r)}if(a=(o&e.childLanes)!==0,ye||a){if(r=re,r!==null){switch(o&-o){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|o)?0:l,l!==0&&l!==s.retryLane&&(s.retryLane=l,lt(e,l),be(r,e,l,-1))}return ti(),r=us(Error(T(421))),Dr(e,t,o,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Zp.bind(null,e),l._reactRetry=t,null):(e=s.treeContext,Ie=yt(l.nextSibling),Te=t,b=!0,ze=null,e!==null&&(je[Oe++]=qe,je[Oe++]=et,je[Oe++]=zt,qe=e.id,et=e.overflow,zt=t),t=Qo(t,r.children),t.flags|=4096,t)}function ca(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ws(e.return,t,n)}function cs(e,t,n,r,l){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=l)}function rd(e,t,n){var r=t.pendingProps,l=r.revealOrder,s=r.tail;if(me(e,t,r.children,n),r=V.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ca(e,n,t);else if(e.tag===19)ca(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(U(V,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&fl(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),cs(t,!1,l,n,s);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&fl(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}cs(t,!0,n,null,s);break;case"together":cs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $r(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function st(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),bt|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,n=Nt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Nt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Bp(e,t,n){switch(t.tag){case 3:td(t),mn();break;case 5:Ac(t);break;case 1:we(t.type)&&ol(t);break;case 4:bo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;U(ul,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(U(V,V.current&1),t.flags|=128,null):n&t.child.childLanes?nd(e,t,n):(U(V,V.current&1),e=st(e,t,n),e!==null?e.sibling:null);U(V,V.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return rd(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),U(V,V.current),r)break;return null;case 22:case 23:return t.lanes=0,qc(e,t,n)}return st(e,t,n)}var ld,to,sd,od;ld=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};to=function(){};sd=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,Mt(Ke.current);var s=null;switch(n){case"input":l=Ns(e,l),r=Ns(e,r),s=[];break;case"select":l=H({},l,{value:void 0}),r=H({},r,{value:void 0}),s=[];break;case"textarea":l=Ts(e,l),r=Ts(e,r),s=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ll)}Cs(n,r);var o;n=null;for(f in l)if(!r.hasOwnProperty(f)&&l.hasOwnProperty(f)&&l[f]!=null)if(f==="style"){var a=l[f];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Xn.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var u=r[f];if(a=l!=null?l[f]:void 0,r.hasOwnProperty(f)&&u!==a&&(u!=null||a!=null))if(f==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(f,n)),n=u;else f==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(f,u)):f==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(f,""+u):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Xn.hasOwnProperty(f)?(u!=null&&f==="onScroll"&&F("scroll",e),s||a===u||(s=[])):(s=s||[]).push(f,u))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}};od=function(e,t,n,r){n!==r&&(t.flags|=4)};function On(e,t){if(!b)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function de(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bp(e,t,n){var r=t.pendingProps;switch(Ro(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(t),null;case 1:return we(t.type)&&sl(),de(t),null;case 3:return r=t.stateNode,gn(),z(Ee),z(pe),Go(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Or(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ze!==null&&(uo(ze),ze=null))),to(e,t),de(t),null;case 5:Vo(t);var l=Mt(ar.current);if(n=t.type,e!==null&&t.stateNode!=null)sd(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(T(166));return de(t),null}if(e=Mt(Ke.current),Or(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[$e]=t,r[or]=s,e=(t.mode&1)!==0,n){case"dialog":F("cancel",r),F("close",r);break;case"iframe":case"object":case"embed":F("load",r);break;case"video":case"audio":for(l=0;l<Un.length;l++)F(Un[l],r);break;case"source":F("error",r);break;case"img":case"image":case"link":F("error",r),F("load",r);break;case"details":F("toggle",r);break;case"input":yi(r,s),F("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},F("invalid",r);break;case"textarea":wi(r,s),F("invalid",r)}Cs(n,s),l=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&jr(r.textContent,a,e),l=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&jr(r.textContent,a,e),l=["children",""+a]):Xn.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&F("scroll",r)}switch(n){case"input":Sr(r),Ei(r,s,!0);break;case"textarea":Sr(r),Si(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ll)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ru(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[$e]=t,e[or]=r,ld(e,t,!1,!1),t.stateNode=e;e:{switch(o=As(n,r),n){case"dialog":F("cancel",e),F("close",e),l=r;break;case"iframe":case"object":case"embed":F("load",e),l=r;break;case"video":case"audio":for(l=0;l<Un.length;l++)F(Un[l],e);l=r;break;case"source":F("error",e),l=r;break;case"img":case"image":case"link":F("error",e),F("load",e),l=r;break;case"details":F("toggle",e),l=r;break;case"input":yi(e,r),l=Ns(e,r),F("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=H({},r,{value:void 0}),F("invalid",e);break;case"textarea":wi(e,r),l=Ts(e,r),F("invalid",e);break;default:l=r}Cs(n,l),a=l;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?Uu(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Mu(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Jn(e,u):typeof u=="number"&&Jn(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Xn.hasOwnProperty(s)?u!=null&&s==="onScroll"&&F("scroll",e):u!=null&&yo(e,s,u,o))}switch(n){case"input":Sr(e),Ei(e,r,!1);break;case"textarea":Sr(e),Si(e);break;case"option":r.value!=null&&e.setAttribute("value",""+_t(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?sn(e,!!r.multiple,s,!1):r.defaultValue!=null&&sn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=ll)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return de(t),null;case 6:if(e&&t.stateNode!=null)od(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(T(166));if(n=Mt(ar.current),Mt(Ke.current),Or(t)){if(r=t.stateNode,n=t.memoizedProps,r[$e]=t,(s=r.nodeValue!==n)&&(e=Te,e!==null))switch(e.tag){case 3:jr(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&jr(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$e]=t,t.stateNode=r}return de(t),null;case 13:if(z(V),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(b&&Ie!==null&&t.mode&1&&!(t.flags&128))_c(),mn(),t.flags|=98560,s=!1;else if(s=Or(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(T(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(T(317));s[$e]=t}else mn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;de(t),s=!1}else ze!==null&&(uo(ze),ze=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||V.current&1?Z===0&&(Z=3):ti())),t.updateQueue!==null&&(t.flags|=4),de(t),null);case 4:return gn(),to(e,t),e===null&&lr(t.stateNode.containerInfo),de(t),null;case 10:return Fo(t.type._context),de(t),null;case 17:return we(t.type)&&sl(),de(t),null;case 19:if(z(V),s=t.memoizedState,s===null)return de(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)On(s,!1);else{if(Z!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=fl(e),o!==null){for(t.flags|=128,On(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return U(V,V.current&1|2),t.child}e=e.sibling}s.tail!==null&&W()>xn&&(t.flags|=128,r=!0,On(s,!1),t.lanes=4194304)}else{if(!r)if(e=fl(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),On(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!b)return de(t),null}else 2*W()-s.renderingStartTime>xn&&n!==1073741824&&(t.flags|=128,r=!0,On(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=W(),t.sibling=null,n=V.current,U(V,r?n&1|2:n&1),t):(de(t),null);case 22:case 23:return ei(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?_e&1073741824&&(de(t),t.subtreeFlags&6&&(t.flags|=8192)):de(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function Vp(e,t){switch(Ro(t),t.tag){case 1:return we(t.type)&&sl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gn(),z(Ee),z(pe),Go(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Vo(t),null;case 13:if(z(V),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));mn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return z(V),null;case 4:return gn(),null;case 10:return Fo(t.type._context),null;case 22:case 23:return ei(),null;case 24:return null;default:return null}}var Rr=!1,fe=!1,Gp=typeof WeakSet=="function"?WeakSet:Set,A=null;function rn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Y(e,t,r)}else n.current=null}function no(e,t,n){try{n()}catch(r){Y(e,t,r)}}var da=!1;function Hp(e,t){if(zs=tl,e=dc(),Lo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,f=0,m=0,h=e,g=null;t:for(;;){for(var v;h!==n||l!==0&&h.nodeType!==3||(a=o+l),h!==s||r!==0&&h.nodeType!==3||(u=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)g=h,h=v;for(;;){if(h===e)break t;if(g===n&&++f===l&&(a=o),g===s&&++m===r&&(u=o),(v=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=v}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bs={focusedElem:e,selectionRange:n},tl=!1,A=t;A!==null;)if(t=A,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,A=e;else for(;A!==null;){t=A;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var E=y.memoizedProps,S=y.memoizedState,d=t.stateNode,c=d.getSnapshotBeforeUpdate(t.elementType===t.type?E:Ue(t.type,E),S);d.__reactInternalSnapshotBeforeUpdate=c}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(x){Y(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,A=e;break}A=t.return}return y=da,da=!1,y}function Yn(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var s=l.destroy;l.destroy=void 0,s!==void 0&&no(t,n,s)}l=l.next}while(l!==r)}}function Al(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ro(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function id(e){var t=e.alternate;t!==null&&(e.alternate=null,id(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$e],delete t[or],delete t[Gs],delete t[Tp],delete t[kp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ad(e){return e.tag===5||e.tag===3||e.tag===4}function fa(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ad(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ll));else if(r!==4&&(e=e.child,e!==null))for(lo(e,t,n),e=e.sibling;e!==null;)lo(e,t,n),e=e.sibling}function so(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(so(e,t,n),e=e.sibling;e!==null;)so(e,t,n),e=e.sibling}var oe=null,Fe=!1;function at(e,t,n){for(n=n.child;n!==null;)ud(e,t,n),n=n.sibling}function ud(e,t,n){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(wl,n)}catch{}switch(n.tag){case 5:fe||rn(n,t);case 6:var r=oe,l=Fe;oe=null,at(e,t,n),oe=r,Fe=l,oe!==null&&(Fe?(e=oe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):oe.removeChild(n.stateNode));break;case 18:oe!==null&&(Fe?(e=oe,n=n.stateNode,e.nodeType===8?rs(e.parentNode,n):e.nodeType===1&&rs(e,n),tr(e)):rs(oe,n.stateNode));break;case 4:r=oe,l=Fe,oe=n.stateNode.containerInfo,Fe=!0,at(e,t,n),oe=r,Fe=l;break;case 0:case 11:case 14:case 15:if(!fe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var s=l,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&no(n,t,o),l=l.next}while(l!==r)}at(e,t,n);break;case 1:if(!fe&&(rn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Y(n,t,a)}at(e,t,n);break;case 21:at(e,t,n);break;case 22:n.mode&1?(fe=(r=fe)||n.memoizedState!==null,at(e,t,n),fe=r):at(e,t,n);break;default:at(e,t,n)}}function pa(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Gp),t.forEach(function(r){var l=qp.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Pe(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:oe=a.stateNode,Fe=!1;break e;case 3:oe=a.stateNode.containerInfo,Fe=!0;break e;case 4:oe=a.stateNode.containerInfo,Fe=!0;break e}a=a.return}if(oe===null)throw Error(T(160));ud(s,o,l),oe=null,Fe=!1;var u=l.alternate;u!==null&&(u.return=null),l.return=null}catch(f){Y(l,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)cd(t,e),t=t.sibling}function cd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pe(t,e),Ge(e),r&4){try{Yn(3,e,e.return),Al(3,e)}catch(E){Y(e,e.return,E)}try{Yn(5,e,e.return)}catch(E){Y(e,e.return,E)}}break;case 1:Pe(t,e),Ge(e),r&512&&n!==null&&rn(n,n.return);break;case 5:if(Pe(t,e),Ge(e),r&512&&n!==null&&rn(n,n.return),e.flags&32){var l=e.stateNode;try{Jn(l,"")}catch(E){Y(e,e.return,E)}}if(r&4&&(l=e.stateNode,l!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Lu(l,s),As(a,o);var f=As(a,s);for(o=0;o<u.length;o+=2){var m=u[o],h=u[o+1];m==="style"?Uu(l,h):m==="dangerouslySetInnerHTML"?Mu(l,h):m==="children"?Jn(l,h):yo(l,m,h,f)}switch(a){case"input":_s(l,s);break;case"textarea":Du(l,s);break;case"select":var g=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?sn(l,!!s.multiple,v,!1):g!==!!s.multiple&&(s.defaultValue!=null?sn(l,!!s.multiple,s.defaultValue,!0):sn(l,!!s.multiple,s.multiple?[]:"",!1))}l[or]=s}catch(E){Y(e,e.return,E)}}break;case 6:if(Pe(t,e),Ge(e),r&4){if(e.stateNode===null)throw Error(T(162));l=e.stateNode,s=e.memoizedProps;try{l.nodeValue=s}catch(E){Y(e,e.return,E)}}break;case 3:if(Pe(t,e),Ge(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{tr(t.containerInfo)}catch(E){Y(e,e.return,E)}break;case 4:Pe(t,e),Ge(e);break;case 13:Pe(t,e),Ge(e),l=e.child,l.flags&8192&&(s=l.memoizedState!==null,l.stateNode.isHidden=s,!s||l.alternate!==null&&l.alternate.memoizedState!==null||(Zo=W())),r&4&&pa(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(fe=(f=fe)||m,Pe(t,e),fe=f):Pe(t,e),Ge(e),r&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!m&&e.mode&1)for(A=e,m=e.child;m!==null;){for(h=A=m;A!==null;){switch(g=A,v=g.child,g.tag){case 0:case 11:case 14:case 15:Yn(4,g,g.return);break;case 1:rn(g,g.return);var y=g.stateNode;if(typeof y.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(E){Y(r,n,E)}}break;case 5:rn(g,g.return);break;case 22:if(g.memoizedState!==null){ha(h);continue}}v!==null?(v.return=g,A=v):ha(h)}m=m.sibling}e:for(m=null,h=e;;){if(h.tag===5){if(m===null){m=h;try{l=h.stateNode,f?(s=l.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Pu("display",o))}catch(E){Y(e,e.return,E)}}}else if(h.tag===6){if(m===null)try{h.stateNode.nodeValue=f?"":h.memoizedProps}catch(E){Y(e,e.return,E)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;m===h&&(m=null),h=h.return}m===h&&(m=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Pe(t,e),Ge(e),r&4&&pa(e);break;case 21:break;default:Pe(t,e),Ge(e)}}function Ge(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ad(n)){var r=n;break e}n=n.return}throw Error(T(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(Jn(l,""),r.flags&=-33);var s=fa(e);so(e,s,l);break;case 3:case 4:var o=r.stateNode.containerInfo,a=fa(e);lo(e,a,o);break;default:throw Error(T(161))}}catch(u){Y(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Yp(e,t,n){A=e,dd(e)}function dd(e,t,n){for(var r=(e.mode&1)!==0;A!==null;){var l=A,s=l.child;if(l.tag===22&&r){var o=l.memoizedState!==null||Rr;if(!o){var a=l.alternate,u=a!==null&&a.memoizedState!==null||fe;a=Rr;var f=fe;if(Rr=o,(fe=u)&&!f)for(A=l;A!==null;)o=A,u=o.child,o.tag===22&&o.memoizedState!==null?ga(l):u!==null?(u.return=o,A=u):ga(l);for(;s!==null;)A=s,dd(s),s=s.sibling;A=l,Rr=a,fe=f}ma(e)}else l.subtreeFlags&8772&&s!==null?(s.return=l,A=s):ma(e)}}function ma(e){for(;A!==null;){var t=A;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:fe||Al(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!fe)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Ue(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Zi(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Zi(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var m=f.memoizedState;if(m!==null){var h=m.dehydrated;h!==null&&tr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}fe||t.flags&512&&ro(t)}catch(g){Y(t,t.return,g)}}if(t===e){A=null;break}if(n=t.sibling,n!==null){n.return=t.return,A=n;break}A=t.return}}function ha(e){for(;A!==null;){var t=A;if(t===e){A=null;break}var n=t.sibling;if(n!==null){n.return=t.return,A=n;break}A=t.return}}function ga(e){for(;A!==null;){var t=A;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Al(4,t)}catch(u){Y(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(u){Y(t,l,u)}}var s=t.return;try{ro(t)}catch(u){Y(t,s,u)}break;case 5:var o=t.return;try{ro(t)}catch(u){Y(t,o,u)}}}catch(u){Y(t,t.return,u)}if(t===e){A=null;break}var a=t.sibling;if(a!==null){a.return=t.return,A=a;break}A=t.return}}var $p=Math.ceil,hl=ot.ReactCurrentDispatcher,Xo=ot.ReactCurrentOwner,De=ot.ReactCurrentBatchConfig,R=0,re=null,Q=null,ae=0,_e=0,ln=kt(0),Z=0,fr=null,bt=0,jl=0,Jo=0,$n=null,xe=null,Zo=0,xn=1/0,Je=null,gl=!1,oo=null,wt=null,Mr=!1,ht=null,vl=0,Wn=0,io=null,Wr=-1,Kr=0;function he(){return R&6?W():Wr!==-1?Wr:Wr=W()}function St(e){return e.mode&1?R&2&&ae!==0?ae&-ae:Ap.transition!==null?(Kr===0&&(Kr=Qu()),Kr):(e=M,e!==0||(e=window.event,e=e===void 0?16:nc(e.type)),e):1}function be(e,t,n,r){if(50<Wn)throw Wn=0,io=null,Error(T(185));hr(e,n,r),(!(R&2)||e!==re)&&(e===re&&(!(R&2)&&(jl|=n),Z===4&&ft(e,ae)),Se(e,r),n===1&&R===0&&!(t.mode&1)&&(xn=W()+500,Tl&&Ct()))}function Se(e,t){var n=e.callbackNode;Af(e,t);var r=el(e,e===re?ae:0);if(r===0)n!==null&&Ii(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ii(n),t===1)e.tag===0?Cp(va.bind(null,e)):wc(va.bind(null,e)),_p(function(){!(R&6)&&Ct()}),n=null;else{switch(Xu(r)){case 1:n=_o;break;case 4:n=Wu;break;case 16:n=qr;break;case 536870912:n=Ku;break;default:n=qr}n=yd(n,fd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function fd(e,t){if(Wr=-1,Kr=0,R&6)throw Error(T(327));var n=e.callbackNode;if(dn()&&e.callbackNode!==n)return null;var r=el(e,e===re?ae:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=xl(e,r);else{t=r;var l=R;R|=2;var s=md();(re!==e||ae!==t)&&(Je=null,xn=W()+500,Pt(e,t));do try{Qp();break}catch(a){pd(e,a)}while(!0);Uo(),hl.current=s,R=l,Q!==null?t=0:(re=null,ae=0,t=Z)}if(t!==0){if(t===2&&(l=Rs(e),l!==0&&(r=l,t=ao(e,l))),t===1)throw n=fr,Pt(e,0),ft(e,r),Se(e,W()),n;if(t===6)ft(e,r);else{if(l=e.current.alternate,!(r&30)&&!Wp(l)&&(t=xl(e,r),t===2&&(s=Rs(e),s!==0&&(r=s,t=ao(e,s))),t===1))throw n=fr,Pt(e,0),ft(e,r),Se(e,W()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(T(345));case 2:Lt(e,xe,Je);break;case 3:if(ft(e,r),(r&130023424)===r&&(t=Zo+500-W(),10<t)){if(el(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){he(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Vs(Lt.bind(null,e,xe,Je),t);break}Lt(e,xe,Je);break;case 4:if(ft(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var o=31-Be(r);s=1<<o,o=t[o],o>l&&(l=o),r&=~s}if(r=l,r=W()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$p(r/1960))-r,10<r){e.timeoutHandle=Vs(Lt.bind(null,e,xe,Je),r);break}Lt(e,xe,Je);break;case 5:Lt(e,xe,Je);break;default:throw Error(T(329))}}}return Se(e,W()),e.callbackNode===n?fd.bind(null,e):null}function ao(e,t){var n=$n;return e.current.memoizedState.isDehydrated&&(Pt(e,t).flags|=256),e=xl(e,t),e!==2&&(t=xe,xe=n,t!==null&&uo(t)),e}function uo(e){xe===null?xe=e:xe.push.apply(xe,e)}function Wp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],s=l.getSnapshot;l=l.value;try{if(!Ve(s(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ft(e,t){for(t&=~Jo,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Be(t),r=1<<n;e[n]=-1,t&=~r}}function va(e){if(R&6)throw Error(T(327));dn();var t=el(e,0);if(!(t&1))return Se(e,W()),null;var n=xl(e,t);if(e.tag!==0&&n===2){var r=Rs(e);r!==0&&(t=r,n=ao(e,r))}if(n===1)throw n=fr,Pt(e,0),ft(e,t),Se(e,W()),n;if(n===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Lt(e,xe,Je),Se(e,W()),null}function qo(e,t){var n=R;R|=1;try{return e(t)}finally{R=n,R===0&&(xn=W()+500,Tl&&Ct())}}function Vt(e){ht!==null&&ht.tag===0&&!(R&6)&&dn();var t=R;R|=1;var n=De.transition,r=M;try{if(De.transition=null,M=1,e)return e()}finally{M=r,De.transition=n,R=t,!(R&6)&&Ct()}}function ei(){_e=ln.current,z(ln)}function Pt(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Np(n)),Q!==null)for(n=Q.return;n!==null;){var r=n;switch(Ro(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&sl();break;case 3:gn(),z(Ee),z(pe),Go();break;case 5:Vo(r);break;case 4:gn();break;case 13:z(V);break;case 19:z(V);break;case 10:Fo(r.type._context);break;case 22:case 23:ei()}n=n.return}if(re=e,Q=e=Nt(e.current,null),ae=_e=t,Z=0,fr=null,Jo=jl=bt=0,xe=$n=null,Rt!==null){for(t=0;t<Rt.length;t++)if(n=Rt[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=l,r.next=o}n.pending=r}Rt=null}return e}function pd(e,t){do{var n=Q;try{if(Uo(),Hr.current=ml,pl){for(var r=G.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}pl=!1}if(Bt=0,ne=J=G=null,Hn=!1,ur=0,Xo.current=null,n===null||n.return===null){Z=1,fr=t,Q=null;break}e:{var s=e,o=n.return,a=n,u=t;if(t=ae,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=u,m=a,h=m.tag;if(!(m.mode&1)&&(h===0||h===11||h===15)){var g=m.alternate;g?(m.updateQueue=g.updateQueue,m.memoizedState=g.memoizedState,m.lanes=g.lanes):(m.updateQueue=null,m.memoizedState=null)}var v=la(o);if(v!==null){v.flags&=-257,sa(v,o,a,s,t),v.mode&1&&ra(s,f,t),t=v,u=f;var y=t.updateQueue;if(y===null){var E=new Set;E.add(u),t.updateQueue=E}else y.add(u);break e}else{if(!(t&1)){ra(s,f,t),ti();break e}u=Error(T(426))}}else if(b&&a.mode&1){var S=la(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),sa(S,o,a,s,t),Mo(vn(u,a));break e}}s=u=vn(u,a),Z!==4&&(Z=2),$n===null?$n=[s]:$n.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var d=Xc(s,u,t);Ji(s,d);break e;case 1:a=u;var c=s.type,p=s.stateNode;if(!(s.flags&128)&&(typeof c.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(wt===null||!wt.has(p)))){s.flags|=65536,t&=-t,s.lanes|=t;var x=Jc(s,a,t);Ji(s,x);break e}}s=s.return}while(s!==null)}gd(n)}catch(N){t=N,Q===n&&n!==null&&(Q=n=n.return);continue}break}while(!0)}function md(){var e=hl.current;return hl.current=ml,e===null?ml:e}function ti(){(Z===0||Z===3||Z===2)&&(Z=4),re===null||!(bt&268435455)&&!(jl&268435455)||ft(re,ae)}function xl(e,t){var n=R;R|=2;var r=md();(re!==e||ae!==t)&&(Je=null,Pt(e,t));do try{Kp();break}catch(l){pd(e,l)}while(!0);if(Uo(),R=n,hl.current=r,Q!==null)throw Error(T(261));return re=null,ae=0,Z}function Kp(){for(;Q!==null;)hd(Q)}function Qp(){for(;Q!==null&&!Ef();)hd(Q)}function hd(e){var t=xd(e.alternate,e,_e);e.memoizedProps=e.pendingProps,t===null?gd(e):Q=t,Xo.current=null}function gd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Vp(n,t),n!==null){n.flags&=32767,Q=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Z=6,Q=null;return}}else if(n=bp(n,t,_e),n!==null){Q=n;return}if(t=t.sibling,t!==null){Q=t;return}Q=t=e}while(t!==null);Z===0&&(Z=5)}function Lt(e,t,n){var r=M,l=De.transition;try{De.transition=null,M=1,Xp(e,t,n,r)}finally{De.transition=l,M=r}return null}function Xp(e,t,n,r){do dn();while(ht!==null);if(R&6)throw Error(T(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(jf(e,s),e===re&&(Q=re=null,ae=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Mr||(Mr=!0,yd(qr,function(){return dn(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=De.transition,De.transition=null;var o=M;M=1;var a=R;R|=4,Xo.current=null,Hp(e,n),cd(n,e),gp(Bs),tl=!!zs,Bs=zs=null,e.current=n,Yp(n),wf(),R=a,M=o,De.transition=s}else e.current=n;if(Mr&&(Mr=!1,ht=e,vl=l),s=e.pendingLanes,s===0&&(wt=null),_f(n.stateNode),Se(e,W()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(gl)throw gl=!1,e=oo,oo=null,e;return vl&1&&e.tag!==0&&dn(),s=e.pendingLanes,s&1?e===io?Wn++:(Wn=0,io=e):Wn=0,Ct(),null}function dn(){if(ht!==null){var e=Xu(vl),t=De.transition,n=M;try{if(De.transition=null,M=16>e?16:e,ht===null)var r=!1;else{if(e=ht,ht=null,vl=0,R&6)throw Error(T(331));var l=R;for(R|=4,A=e.current;A!==null;){var s=A,o=s.child;if(A.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var f=a[u];for(A=f;A!==null;){var m=A;switch(m.tag){case 0:case 11:case 15:Yn(8,m,s)}var h=m.child;if(h!==null)h.return=m,A=h;else for(;A!==null;){m=A;var g=m.sibling,v=m.return;if(id(m),m===f){A=null;break}if(g!==null){g.return=v,A=g;break}A=v}}}var y=s.alternate;if(y!==null){var E=y.child;if(E!==null){y.child=null;do{var S=E.sibling;E.sibling=null,E=S}while(E!==null)}}A=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,A=o;else e:for(;A!==null;){if(s=A,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Yn(9,s,s.return)}var d=s.sibling;if(d!==null){d.return=s.return,A=d;break e}A=s.return}}var c=e.current;for(A=c;A!==null;){o=A;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,A=p;else e:for(o=c;A!==null;){if(a=A,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Al(9,a)}}catch(N){Y(a,a.return,N)}if(a===o){A=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,A=x;break e}A=a.return}}if(R=l,Ct(),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(wl,e)}catch{}r=!0}return r}finally{M=n,De.transition=t}}return!1}function xa(e,t,n){t=vn(n,t),t=Xc(e,t,1),e=Et(e,t,1),t=he(),e!==null&&(hr(e,1,t),Se(e,t))}function Y(e,t,n){if(e.tag===3)xa(e,e,n);else for(;t!==null;){if(t.tag===3){xa(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wt===null||!wt.has(r))){e=vn(n,e),e=Jc(t,e,1),t=Et(t,e,1),e=he(),t!==null&&(hr(t,1,e),Se(t,e));break}}t=t.return}}function Jp(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=he(),e.pingedLanes|=e.suspendedLanes&n,re===e&&(ae&n)===n&&(Z===4||Z===3&&(ae&130023424)===ae&&500>W()-Zo?Pt(e,0):Jo|=n),Se(e,t)}function vd(e,t){t===0&&(e.mode&1?(t=Ir,Ir<<=1,!(Ir&130023424)&&(Ir=4194304)):t=1);var n=he();e=lt(e,t),e!==null&&(hr(e,t,n),Se(e,n))}function Zp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),vd(e,n)}function qp(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(t),vd(e,n)}var xd;xd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ee.current)ye=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ye=!1,Bp(e,t,n);ye=!!(e.flags&131072)}else ye=!1,b&&t.flags&1048576&&Sc(t,al,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;$r(e,t),e=t.pendingProps;var l=pn(t,pe.current);cn(t,n),l=Yo(null,t,r,e,l,n);var s=$o();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,we(r)?(s=!0,ol(t)):s=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Bo(t),l.updater=Cl,t.stateNode=l,l._reactInternals=t,Qs(t,r,e,n),t=Zs(null,t,r,!0,s,n)):(t.tag=0,b&&s&&Do(t),me(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch($r(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=tm(r),e=Ue(r,e),l){case 0:t=Js(null,t,r,e,n);break e;case 1:t=aa(null,t,r,e,n);break e;case 11:t=oa(null,t,r,e,n);break e;case 14:t=ia(null,t,r,Ue(r.type,e),n);break e}throw Error(T(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ue(r,l),Js(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ue(r,l),aa(e,t,r,l,n);case 3:e:{if(td(t),e===null)throw Error(T(387));r=t.pendingProps,s=t.memoizedState,l=s.element,Cc(e,t),dl(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){l=vn(Error(T(423)),t),t=ua(e,t,r,n,l);break e}else if(r!==l){l=vn(Error(T(424)),t),t=ua(e,t,r,n,l);break e}else for(Ie=yt(t.stateNode.containerInfo.firstChild),Te=t,b=!0,ze=null,n=Tc(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mn(),r===l){t=st(e,t,n);break e}me(e,t,r,n)}t=t.child}return t;case 5:return Ac(t),e===null&&$s(t),r=t.type,l=t.pendingProps,s=e!==null?e.memoizedProps:null,o=l.children,bs(r,l)?o=null:s!==null&&bs(r,s)&&(t.flags|=32),ed(e,t),me(e,t,o,n),t.child;case 6:return e===null&&$s(t),null;case 13:return nd(e,t,n);case 4:return bo(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=hn(t,null,r,n):me(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ue(r,l),oa(e,t,r,l,n);case 7:return me(e,t,t.pendingProps,n),t.child;case 8:return me(e,t,t.pendingProps.children,n),t.child;case 12:return me(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,s=t.memoizedProps,o=l.value,U(ul,r._currentValue),r._currentValue=o,s!==null)if(Ve(s.value,o)){if(s.children===l.children&&!Ee.current){t=st(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=tt(-1,n&-n),u.tag=2;var f=s.updateQueue;if(f!==null){f=f.shared;var m=f.pending;m===null?u.next=u:(u.next=m.next,m.next=u),f.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Ws(s.return,n,t),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(T(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ws(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}me(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,cn(t,n),l=Re(l),r=r(l),t.flags|=1,me(e,t,r,n),t.child;case 14:return r=t.type,l=Ue(r,t.pendingProps),l=Ue(r.type,l),ia(e,t,r,l,n);case 15:return Zc(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ue(r,l),$r(e,t),t.tag=1,we(r)?(e=!0,ol(t)):e=!1,cn(t,n),Qc(t,r,l),Qs(t,r,l,n),Zs(null,t,r,!0,e,n);case 19:return rd(e,t,n);case 22:return qc(e,t,n)}throw Error(T(156,t.tag))};function yd(e,t){return $u(e,t)}function em(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Le(e,t,n,r){return new em(e,t,n,r)}function ni(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tm(e){if(typeof e=="function")return ni(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wo)return 11;if(e===So)return 14}return 2}function Nt(e,t){var n=e.alternate;return n===null?(n=Le(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Qr(e,t,n,r,l,s){var o=2;if(r=e,typeof e=="function")ni(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Kt:return Ut(n.children,l,s,t);case Eo:o=8,l|=8;break;case ys:return e=Le(12,n,t,l|2),e.elementType=ys,e.lanes=s,e;case Es:return e=Le(13,n,t,l),e.elementType=Es,e.lanes=s,e;case ws:return e=Le(19,n,t,l),e.elementType=ws,e.lanes=s,e;case Au:return Ol(n,l,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ku:o=10;break e;case Cu:o=9;break e;case wo:o=11;break e;case So:o=14;break e;case ut:o=16,r=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=Le(o,n,t,l),t.elementType=e,t.type=r,t.lanes=s,t}function Ut(e,t,n,r){return e=Le(7,e,r,t),e.lanes=n,e}function Ol(e,t,n,r){return e=Le(22,e,r,t),e.elementType=Au,e.lanes=n,e.stateNode={isHidden:!1},e}function ds(e,t,n){return e=Le(6,e,null,t),e.lanes=n,e}function fs(e,t,n){return t=Le(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function nm(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$l(0),this.expirationTimes=$l(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$l(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function ri(e,t,n,r,l,s,o,a,u){return e=new nm(e,t,n,a,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Le(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bo(s),e}function rm(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wt,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ed(e){if(!e)return It;e=e._reactInternals;e:{if(Ht(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(we(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var n=e.type;if(we(n))return Ec(e,n,t)}return t}function wd(e,t,n,r,l,s,o,a,u){return e=ri(n,r,!0,e,l,s,o,a,u),e.context=Ed(null),n=e.current,r=he(),l=St(n),s=tt(r,l),s.callback=t??null,Et(n,s,l),e.current.lanes=l,hr(e,l,r),Se(e,r),e}function Ll(e,t,n,r){var l=t.current,s=he(),o=St(l);return n=Ed(n),t.context===null?t.context=n:t.pendingContext=n,t=tt(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Et(l,t,o),e!==null&&(be(e,l,o,s),Gr(e,l,o)),o}function yl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ya(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function li(e,t){ya(e,t),(e=e.alternate)&&ya(e,t)}function lm(){return null}var Sd=typeof reportError=="function"?reportError:function(e){console.error(e)};function si(e){this._internalRoot=e}Dl.prototype.render=si.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));Ll(e,t,null,null)};Dl.prototype.unmount=si.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vt(function(){Ll(null,e,null,null)}),t[rt]=null}};function Dl(e){this._internalRoot=e}Dl.prototype.unstable_scheduleHydration=function(e){if(e){var t=qu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<dt.length&&t!==0&&t<dt[n].priority;n++);dt.splice(n,0,e),n===0&&tc(e)}};function oi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Rl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ea(){}function sm(e,t,n,r,l){if(l){if(typeof r=="function"){var s=r;r=function(){var f=yl(o);s.call(f)}}var o=wd(t,r,e,0,null,!1,!1,"",Ea);return e._reactRootContainer=o,e[rt]=o.current,lr(e.nodeType===8?e.parentNode:e),Vt(),o}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var a=r;r=function(){var f=yl(u);a.call(f)}}var u=ri(e,0,!1,null,null,!1,!1,"",Ea);return e._reactRootContainer=u,e[rt]=u.current,lr(e.nodeType===8?e.parentNode:e),Vt(function(){Ll(t,u,n,r)}),u}function Ml(e,t,n,r,l){var s=n._reactRootContainer;if(s){var o=s;if(typeof l=="function"){var a=l;l=function(){var u=yl(o);a.call(u)}}Ll(t,o,e,l)}else o=sm(n,t,e,l,r);return yl(o)}Ju=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Pn(t.pendingLanes);n!==0&&(Io(t,n|1),Se(t,W()),!(R&6)&&(xn=W()+500,Ct()))}break;case 13:Vt(function(){var r=lt(e,1);if(r!==null){var l=he();be(r,e,1,l)}}),li(e,1)}};To=function(e){if(e.tag===13){var t=lt(e,134217728);if(t!==null){var n=he();be(t,e,134217728,n)}li(e,134217728)}};Zu=function(e){if(e.tag===13){var t=St(e),n=lt(e,t);if(n!==null){var r=he();be(n,e,t,r)}li(e,t)}};qu=function(){return M};ec=function(e,t){var n=M;try{return M=e,t()}finally{M=n}};Os=function(e,t,n){switch(t){case"input":if(_s(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=Il(r);if(!l)throw Error(T(90));Ou(r),_s(r,l)}}}break;case"textarea":Du(e,n);break;case"select":t=n.value,t!=null&&sn(e,!!n.multiple,t,!1)}};Bu=qo;bu=Vt;var om={usingClientEntryPoint:!1,Events:[vr,Zt,Il,Fu,zu,qo]},Ln={findFiberByHostInstance:Dt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},im={bundleType:Ln.bundleType,version:Ln.version,rendererPackageName:Ln.rendererPackageName,rendererConfig:Ln.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ot.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Hu(e),e===null?null:e.stateNode},findFiberByHostInstance:Ln.findFiberByHostInstance||lm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pr.isDisabled&&Pr.supportsFiber)try{wl=Pr.inject(im),We=Pr}catch{}}Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=om;Ce.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oi(t))throw Error(T(200));return rm(e,t,null,n)};Ce.createRoot=function(e,t){if(!oi(e))throw Error(T(299));var n=!1,r="",l=Sd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=ri(e,1,!1,null,null,n,!1,r,l),e[rt]=t.current,lr(e.nodeType===8?e.parentNode:e),new si(t)};Ce.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=Hu(t),e=e===null?null:e.stateNode,e};Ce.flushSync=function(e){return Vt(e)};Ce.hydrate=function(e,t,n){if(!Rl(t))throw Error(T(200));return Ml(null,e,t,!0,n)};Ce.hydrateRoot=function(e,t,n){if(!oi(e))throw Error(T(405));var r=n!=null&&n.hydratedSources||null,l=!1,s="",o=Sd;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=wd(t,null,e,1,n??null,l,!1,s,o),e[rt]=t.current,lr(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Dl(t)};Ce.render=function(e,t,n){if(!Rl(t))throw Error(T(200));return Ml(null,e,t,!1,n)};Ce.unmountComponentAtNode=function(e){if(!Rl(e))throw Error(T(40));return e._reactRootContainer?(Vt(function(){Ml(null,null,e,!1,function(){e._reactRootContainer=null,e[rt]=null})}),!0):!1};Ce.unstable_batchedUpdates=qo;Ce.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Rl(n))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return Ml(e,t,n,!1,r)};Ce.version="18.3.1-next-f1338f8080-20240426";function Nd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Nd)}catch(e){console.error(e)}}Nd(),Nu.exports=Ce;var am=Nu.exports,wa=am;vs.createRoot=wa.createRoot,vs.hydrateRoot=wa.hydrateRoot;const um="modulepreload",cm=function(e){return"/"+e},Sa={},_d=function(t,n,r){let l=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));l=Promise.allSettled(n.map(u=>{if(u=cm(u),u in Sa)return;Sa[u]=!0;const f=u.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${m}`))return;const h=document.createElement("link");if(h.rel=f?"stylesheet":um,f||(h.as="script"),h.crossOrigin="",h.href=u,a&&h.setAttribute("nonce",a),document.head.appendChild(h),f)return new Promise((g,v)=>{h.addEventListener("load",g),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return l.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},Id="/assets/sos_alert-BJ-CmZ2x.mp3",Td="/assets/fall_alert-DM425Mvk.mp3",dm="/assets/reminder_notification-Cq-Gjklv.mp3";let q=null,ee=null,se=null,Dn=!1,ps=!1,ms=!1,hs=!1;function Ur(e){if(e==="sos"){if(q)return q;q=new Audio(Id),q.loop=!0,q.preload="auto",q.playsInline=!0;try{q.load()}catch{}return console.debug("[soundService] created sosAudio",{src:q.src,loop:q.loop,preload:q.preload}),q.addEventListener("play",()=>console.debug("[soundService] sosAudio play event")),q.addEventListener("pause",()=>console.debug("[soundService] sosAudio pause event")),q.addEventListener("error",t=>console.error("[soundService] sosAudio error",t)),q}if(e==="fall"){if(ee)return ee;ee=new Audio(Td),ee.loop=!0,ee.preload="auto",ee.playsInline=!0;try{ee.load()}catch{}return console.debug("[soundService] created fallAudio",{src:ee.src,loop:ee.loop,preload:ee.preload}),ee.addEventListener("play",()=>console.debug("[soundService] fallAudio play event")),ee.addEventListener("pause",()=>console.debug("[soundService] fallAudio pause event")),ee.addEventListener("error",t=>console.error("[soundService] fallAudio error",t)),ee}if(se)return se;se=new Audio(dm),se.loop=!1,se.preload="auto",se.playsInline=!0;try{se.load()}catch{}return console.debug("[soundService] created reminderAudio",{src:se.src,loop:se.loop,preload:se.preload}),se.addEventListener("play",()=>console.debug("[soundService] reminderAudio play event")),se.addEventListener("error",t=>console.error("[soundService] reminderAudio error",t)),se}const ie={unlock:async()=>{if(!Dn)try{console.log("Attempting to unlock audio context...");const e=Ur("sos");e.muted=!0;const t=e.play();if(t)try{await t,e.pause(),e.currentTime=0,e.muted=!1,Dn=!0,console.log("Audio context unlocked successfully.")}catch(n){console.error("Audio unlock failed. Subsequent sounds may not play until another interaction.",n)}}catch(e){console.error("Audio unlock failed synchronously",e)}},playSosAlert:()=>{try{const e=Ur("sos");console.debug("[soundService] playSosAlert -> src=",e.src),e.muted=!1,e.volume=1,e.currentTime=0;const t=()=>{e.paused&&e.play().then(()=>{ps=!0}).catch(n=>console.error("Error playing SOS sound:",n))};Dn?t():ie.unlock().then(()=>{t()}).catch(()=>{t()})}catch(e){console.error("Error ensuring SOS audio element:",e)}},stopSosAlert:()=>{if(q)try{q.paused||(q.pause(),q.currentTime=0),ps=!1}catch(e){console.error("Error stopping SOS audio",e)}},playFallAlert:()=>{try{const e=Ur("fall");console.debug("[soundService] playFallAlert -> src=",e.src),e.muted=!1,e.volume=1,e.currentTime=0;const t=()=>{e.paused&&e.play().then(()=>{ms=!0}).catch(n=>console.error("Error playing Fall alert sound:",n))};Dn?t():ie.unlock().then(()=>{t()}).catch(()=>{t()})}catch(e){console.error("Error ensuring Fall audio element:",e)}},stopFallAlert:()=>{if(ee)try{ee.paused||(ee.pause(),ee.currentTime=0),ms=!1}catch(e){console.error("Error stopping Fall audio",e)}},isSosPlaying:()=>!!ps,isFallPlaying:()=>!!ms,isReminderPlaying:()=>!!hs,playReminderAlert:()=>{try{const e=Ur("reminder");console.debug("[soundService] playReminderAlert -> src=",e.src),e.muted=!1,e.volume=1,e.currentTime=0;const t=()=>{console.debug("[soundService] reminder audio state before play",{paused:e.paused,readyState:e.readyState,muted:e.muted,volume:e.volume}),e.paused&&e.play().then(()=>{hs=!0,console.debug("[soundService] reminder audio started playing")}).catch(n=>console.error("Error playing reminder sound:",n))};if(!Dn)ie.unlock().then(()=>{try{e.load()}catch{}t()}).catch(()=>{try{e.load()}catch{}t()});else{try{e.load()}catch{}t()}}catch(e){console.error("Error ensuring Reminder audio element:",e)}},stopReminderAlert:()=>{if(se)try{se.paused||(se.pause(),se.currentTime=0),hs=!1}catch(e){console.error("Error stopping reminder audio",e)}}},ii=({trigger:e})=>(w.useEffect(()=>{e&&ie.playReminderAlert()},[e]),null);class fm{constructor(){_n(this,"ws",null);_n(this,"onActionCb",null);_n(this,"connected",!1);_n(this,"statusCbs",[])}connect(t){this.ws&&this.ws.close(),this.ws=new WebSocket(t),this.ws.addEventListener("open",()=>{console.log("[realtime] connected"),this.connected=!0,this.statusCbs.forEach(n=>n(!0))}),this.ws.addEventListener("error",n=>{console.error("[realtime] websocket error",n)}),this.ws.addEventListener("message",n=>{try{const r=JSON.parse(n.data.toString());(r==null?void 0:r.type)==="ACTION"&&this.onActionCb&&this.onActionCb(r.payload)}catch(r){console.warn("[realtime] invalid message",r)}}),this.ws.addEventListener("close",()=>{console.log("[realtime] disconnected"),this.connected=!1,this.statusCbs.forEach(n=>n(!1)),this.ws=null})}isConnected(){return this.connected&&!!this.ws&&this.ws.readyState===WebSocket.OPEN}onStatusChange(t){return this.statusCbs.push(t),()=>{this.statusCbs=this.statusCbs.filter(n=>n!==t)}}login(t,n,r="demo"){if(!this.ws)throw new Error("WebSocket not connected");const l={username:t,password:n,room:r},s=()=>{var o;try{(o=this.ws)==null||o.send(JSON.stringify({type:"LOGIN",payload:l})),console.debug("[realtime] LOGIN sent",{username:t,room:r})}catch(a){console.error("[realtime] Error sending LOGIN",a)}};if(this.ws&&this.ws.readyState===WebSocket.OPEN){s();return}if(this.ws){const o=()=>{var a;s();try{(a=this.ws)==null||a.removeEventListener("open",o)}catch{}};this.ws.addEventListener("open",o)}}sendAction(t){!this.ws||this.ws.readyState!==WebSocket.OPEN||this.ws.send(JSON.stringify({type:"ACTION",payload:t}))}onAction(t){this.onActionCb=t}disconnect(){this.ws&&this.ws.close(),this.ws=null,this.connected=!1}}const pt=new fm;var te=(e=>(e.PATIENT="PATIENT",e.CAREGIVER="CAREGIVER",e.FAMILY="FAMILY",e))(te||{}),Qe=(e=>(e.PATIENT="PATIENT",e.CAREGIVER="CAREGIVER",e.FAMILY="FAMILY",e))(Qe||{}),$=(e=>(e.HOME="HOME",e.NAVIGATION="NAVIGATION",e.REMINDERS="REMINDERS",e.AI_COMPANION="AI_COMPANION",e.COGNITIVE_GAMES="COGNITIVE_GAMES",e.MEMORY_ALBUM="MEMORY_ALBUM",e.VOICE_MESSAGES="VOICE_MESSAGES",e.MUSIC_THERAPY="MUSIC_THERAPY",e))($||{});const pm="data:audio/mpeg;base64,PGJpbmFyeSBtcDMgcGxhY2Vob2xkZXI+",mm="data:audio/mpeg;base64,PGJpbmFyeSBtcDMgcGxhY2Vob2xkZXI+",hm=pm,gm=mm,vm={reminders:[],alerts:[],memories:[{id:"mem1",imageUrl:"https://images.unsplash.com/photo-1543269865-cbf427effbad?q=80&w=800&auto=format&fit=crop",caption:"That wonderful day we spent at the beach with the grandkids. Remember how much they loved the ice cream?",sharedBy:"Your Daughter, Jane"}],eventLog:[{id:"ev1",text:'Caregiver scheduled "Take Morning Pills".',timestamp:new Date().toLocaleString(),icon:"task"}],sharedQuote:{id:"q1",text:"Just a little note to say we are thinking of you today!",timestamp:new Date().toLocaleString()},voiceMessages:[{id:"vm1",audioUrl:hm,duration:1,senderRole:Qe.FAMILY,senderName:"Your Grandson, Leo",timestamp:"10:30 AM"},{id:"vm2",audioUrl:gm,duration:1,senderRole:Qe.CAREGIVER,senderName:"Your Caregiver, Sam",timestamp:"11:15 AM"}],currentUser:null,devMode:!1,currentView:te.PATIENT},xm=(e,t)=>{var n,r,l,s,o;switch(t.type){case"COMPLETE_REMINDER":const a=e.reminders.find(c=>c.id===t.payload),u={id:new Date().toISOString(),text:`Patient marked "${a==null?void 0:a.title}" as complete.`,timestamp:new Date().toLocaleString(),icon:"reminder"};return{...e,reminders:e.reminders.map(c=>c.id===t.payload?{...c,completed:!0}:c),eventLog:[u,...e.eventLog]};case"ADD_REMINDER":const f={id:new Date().toISOString(),text:`Caregiver scheduled "${t.payload.title}".`,timestamp:new Date().toLocaleString(),icon:"task"};return{...e,reminders:[...e.reminders,t.payload],eventLog:[f,...e.eventLog]};case"DELETE_REMINDER":return{...e,reminders:e.reminders.filter(c=>c.id!==t.payload)};case"TRIGGER_SOS":const m=t.payload.type==="FALL"?"Potential fall detected!":"Patient triggered an SOS alert!",h={id:new Date().toISOString(),text:m,timestamp:new Date().toLocaleString(),icon:t.payload.type==="FALL"?"fall":"sos"},g={...t.payload};return(g.type==="SOS"||g.type==="FALL")&&(g.requiresAcknowledgement=!0),{...e,alerts:[g,...e.alerts],eventLog:[h,...e.eventLog]};case"ADD_MEMORY":const v={id:new Date().toISOString(),text:`${t.payload.sharedBy} shared a new memory.`,timestamp:new Date().toLocaleString(),icon:"memory"};return{...e,memories:[t.payload,...e.memories],eventLog:[v,...e.eventLog]};case"ADD_QUOTE":return{...e,sharedQuote:t.payload};case"ADD_VOICE_MESSAGE":return{...e,voiceMessages:[t.payload,...e.voiceMessages]};case"LOG_EMOTION":if(((n=e.alerts[0])==null?void 0:n.type)==="EMOTION"&&((r=e.alerts[0])!=null&&r.message.includes(t.payload.emotion)))return e;const y={id:new Date().toISOString(),message:`Patient may be feeling: ${t.payload.emotion}`,timestamp:new Date().toLocaleString(),type:"EMOTION"},E={id:new Date().toISOString(),text:`AI companion detected emotion: ${t.payload.emotion}.`,timestamp:new Date().toLocaleString(),icon:"emotion"};return{...e,alerts:[y,...e.alerts],eventLog:[E,...e.eventLog]};case"ACKNOWLEDGE_ALERTS":return{...e,alerts:e.alerts.map(c=>c.type==="SOS"||c.type==="FALL"?{...c,requiresAcknowledgement:!1}:c)};case"MARK_REMINDER_NOTIFIED":return{...e,reminders:e.reminders.map(c=>c.id===t.payload?{...c,notified:!0}:c)};case"LOGIN_SUCCESS":const S=(o=(s=(l=t.payload)==null?void 0:l.role)==null?void 0:s.toUpperCase)==null?void 0:o.call(s);let d=te.PATIENT;return S==="CAREGIVER"&&(d=te.CAREGIVER),S==="FAMILY"&&(d=te.FAMILY),{...e,currentUser:t.payload,currentView:d};case"LOGOUT":return{...e,currentUser:null};case"SET_DEV_MODE":return{...e,devMode:t.payload};case"SET_VIEW_MODE":return{...e,currentView:t.payload};default:return e}},kd=w.createContext(void 0),ym=({children:e})=>{const[t,n]=w.useReducer(xm,vm),r=w.useRef(new Set);w.useEffect(()=>{const s=window.__DEMO_REALTIME_URL;if(s)return pt.connect(s),pt.onAction(o=>{try{const a=o==null?void 0:o._remoteId;if(a&&r.current.has(a))return;a&&r.current.add(a),n(o)}catch(a){console.warn("Error applying remote action",a)}}),()=>{pt.disconnect()}},[]);const l=s=>{if(window.__DEMO_REALTIME_URL&&pt)try{const a={...s,_remoteId:s._remoteId||`r-${Date.now()}-${Math.random().toString(36).slice(2,8)}`};pt.sendAction(a)}catch(a){console.warn("Failed to send action to realtime server",a)}n(s)};return i.jsx(kd.Provider,{value:{state:t,dispatch:l},children:e})},Ne=()=>{const e=w.useContext(kd);if(!e)throw new Error("useAppContext must be used within an AppProvider");return e},Em=()=>{const{state:e,dispatch:t}=Ne(),{reminders:n}=e;function r(s){const o=new Date,[a,u]=s.split(":"),f=new Date(o);return f.setHours(Number(a),Number(u),0,0),o>=f}const l=n.find(s=>!s.completed&&!s.notified&&r(s.time));return w.useEffect(()=>{l&&t({type:"MARK_REMINDER_NOTIFIED",payload:l.id})},[l,t]),i.jsx(ii,{trigger:!!l})},wm=({className:e})=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:i.jsx("path",{d:"M2 12l20-8-8 20-4-8-8-4z"})}),co=({className:e})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),i.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),Kn=({className:e})=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:i.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),Sm=({className:e})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v1.23a.5.5 0 0 0 .7.43L15 6a2.5 2.5 0 0 1 3.5 3.5l-2.07 2.07a.5.5 0 0 0-.14.35v1.22a2.5 2.5 0 0 1-2.5 2.5h-1.63a.5.5 0 0 0-.43.7l.14.35a2.5 2.5 0 0 1-3.5 3.5l-2.07-2.07a.5.5 0 0 0-.35-.14h-1.22A2.5 2.5 0 0 1 2 15.5v-5A2.5 2.5 0 0 1 4.5 8H6a2.5 2.5 0 0 1 3.5-3.5L11.57 2.7a.5.5 0 0 0 .43-.7V2z"}),i.jsx("path",{d:"M12 4.5a2.5 2.5 0 0 0-2.5-2.5"}),i.jsx("path",{d:"M15 6a2.5 2.5 0 0 0-2.5-2.5"}),i.jsx("path",{d:"M4.5 8A2.5 2.5 0 0 0 2 10.5"}),i.jsx("path",{d:"M19.5 16a2.5 2.5 0 0 0 2.5-2.5"})]}),Cd=({className:e})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),i.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),i.jsx("polyline",{points:"21 15 16 10 5 21"})]}),Nm=({className:e})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("circle",{cx:"6",cy:"12",r:"3"}),i.jsx("circle",{cx:"18",cy:"12",r:"3"}),i.jsx("line",{x1:"6",y1:"15",x2:"18",y2:"15"})]}),_m=({onActivate:e})=>{const[t,n]=w.useState(0),[r,l]=w.useState(!1),s=w.useRef(null),o=w.useRef(null),a=w.useRef(0),u=c=>{var x;if(!s.current)return;l(!0);const p=(x=o.current)==null?void 0:x.getBoundingClientRect();a.current=c-((p==null?void 0:p.left)||0)},f=c=>{var C;if(!r||!s.current)return;const p=s.current.getBoundingClientRect(),x=c-p.left-a.current,N=p.width-(((C=o.current)==null?void 0:C.clientWidth)||0),_=Math.max(0,Math.min(x,N));n(_)},m=()=>{if(!r||!s.current||!o.current)return;l(!1);const c=s.current.clientWidth,p=o.current.clientWidth,x=c*.8;t+p>x&&e(),n(0)},h=c=>u(c.clientX),g=c=>{r&&f(c.clientX)},v=()=>{r&&m()},y=()=>{r&&m()},E=c=>u(c.touches[0].clientX),S=c=>{r&&f(c.touches[0].clientX)},d=()=>{r&&m()};return i.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 w-[90%] max-w-sm z-50",onMouseUp:v,onMouseLeave:y,onMouseMove:g,onTouchEnd:d,onTouchCancel:d,onTouchMove:S,children:i.jsxs("div",{ref:s,className:"relative w-full h-16 bg-red-900/50 border border-red-700/80 rounded-full flex items-center p-2 shadow-2xl backdrop-blur-sm overflow-hidden",children:[i.jsx("div",{ref:o,className:"absolute h-12 w-12 bg-red-600 rounded-full flex items-center justify-center cursor-pointer select-none shadow-lg z-10",style:{transform:`translateX(${t}px)`,transition:r?"none":"transform 0.3s ease"},onMouseDown:h,onTouchStart:E,children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M9 5l7 7-7 7"})})}),i.jsx("div",{className:"flex-grow text-center text-red-200 font-bold text-lg animate-pulse pl-12 pointer-events-none",children:"SLIDE FOR SOS"})]})})},Im=({name:e,icon:t,onClick:n})=>i.jsxs("button",{onClick:n,className:"flex items-center w-full p-4 bg-slate-800/50 rounded-lg hover:bg-slate-800/90 transition-colors duration-200 border border-transparent hover:border-slate-700",children:[i.jsx("div",{className:"mr-4 text-white",children:t}),i.jsx("span",{className:"text-xl font-semibold text-gray-200",children:e}),i.jsx("span",{className:"ml-auto text-gray-500",children:""})]}),Na=({setScreen:e})=>{const{dispatch:t}=Ne(),{sharedQuote:n}=Ne().state,r=()=>{const s={id:new Date().toISOString(),message:"SOS button pressed by patient!",timestamp:new Date().toLocaleString(),type:"SOS"};t({type:"TRIGGER_SOS",payload:s}),alert("Caregiver and Family have been notified!")},l=[{name:"Navigate Home",icon:i.jsx(wm,{className:"w-8 h-8"}),screen:$.NAVIGATION},{name:"My Reminders",icon:i.jsx(co,{className:"w-8 h-8"}),screen:$.REMINDERS},{name:"AI Companion",icon:i.jsx(Kn,{className:"w-8 h-8"}),screen:$.AI_COMPANION},{name:"Voice Messages",icon:i.jsx(Nm,{className:"w-8 h-8"}),screen:$.VOICE_MESSAGES},{name:"Memory Game",icon:i.jsx(Sm,{className:"w-8 h-8"}),screen:$.COGNITIVE_GAMES},{name:"Memory Album",icon:i.jsx(Cd,{className:"w-8 h-8"}),screen:$.MEMORY_ALBUM}];return i.jsxs("div",{className:"relative flex flex-col h-[95vh] bg-slate-900/70 backdrop-blur-xl border border-slate-700/50 rounded-3xl shadow-2xl p-4 sm:p-6",children:[i.jsx("div",{className:"absolute top-3 left-3 w-2 h-2 rounded-full bg-slate-700"}),i.jsx("div",{className:"absolute bottom-3 right-3 w-2 h-2 rounded-full bg-slate-700"}),i.jsxs("header",{className:"flex items-center justify-start gap-4 text-left mb-6 border-b border-slate-700/50 pb-4",children:[i.jsx("button",{onClick:()=>{var s;return(s=window.openLoginModal)==null?void 0:s.call(window)},className:"px-3 py-1 bg-slate-800/80 rounded text-sm",children:"Login"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-white",children:"Memora"}),i.jsx("p",{className:"text-md text-slate-400 mt-1",children:"Hello! How can I help you today?"})]})]}),n&&i.jsxs("div",{className:"mb-4 p-4 bg-slate-800/60 rounded-xl border border-slate-700/50 text-center",children:[i.jsx("p",{className:"text-sm text-slate-400 font-semibold",children:"A Thought From Your Family"}),i.jsxs("p",{className:"text-lg text-white italic mt-1",children:['"',n.text,'"']})]}),i.jsx("main",{className:"flex-grow flex flex-col space-y-3 overflow-y-auto pr-2 pb-20",children:l.map(s=>i.jsx(Im,{name:s.name,icon:s.icon,onClick:()=>e(s.screen)},s.name))}),i.jsx(_m,{onActivate:r})]})},Tm=()=>{const e=navigator.userAgent;if(/iPad|iPhone|iPod/.test(e)){const t=e.match(/OS (\d+)_/);if(t&&t[1]&&parseInt(t[1],10)>=13)return!0}return!1},km=10,He=[],Cm=e=>{if(He.length>0){const a=He.reduce((u,f)=>u+f,0)/He.length;Math.abs(e-a)>180&&(He.length=0)}He.push(e),He.length>km&&He.shift();let t=0,n=0;for(const a of He)t+=Math.cos(a*Math.PI/180),n+=Math.sin(a*Math.PI/180);const r=t/He.length,l=n/He.length;let o=Math.atan2(l,r)*180/Math.PI;return o<0&&(o+=360),o},Ad=()=>{const[e,t]=w.useState(null),[n,r]=w.useState(null),[l,s]=w.useState("prompt"),o=w.useRef([0,0,0]),a=m=>{if(m.alpha!==null){const h=m.webkitCompassHeading||m.alpha;t(Cm(360-h))}},u=m=>{if(m.acceleration&&m.acceleration.x!==null){const{x:h,y:g,z:v}=m.acceleration;h!==null&&g!==null&&v!==null&&r({x:h,y:g,z:v})}else if(m.accelerationIncludingGravity&&m.accelerationIncludingGravity.x!==null){const h=m.accelerationIncludingGravity,g=.8;o.current[0]=g*o.current[0]+(1-g)*(h.x||0),o.current[1]=g*o.current[1]+(1-g)*(h.y||0),o.current[2]=g*o.current[2]+(1-g)*(h.z||0);const v={x:(h.x||0)-o.current[0],y:(h.y||0)-o.current[1],z:(h.z||0)-o.current[2]};r(v)}},f=w.useCallback(async()=>{if(!Tm()||typeof DeviceOrientationEvent.requestPermission!="function")return s("granted"),!0;try{const m=await DeviceOrientationEvent.requestPermission(),h=await DeviceMotionEvent.requestPermission();return m==="granted"&&h==="granted"?(s("granted"),!0):(s("denied"),!1)}catch(m){return console.error("Error requesting sensor permissions:",m),s("denied"),!1}},[]);return w.useEffect(()=>(l==="granted"&&(window.addEventListener("deviceorientation",a),window.addEventListener("devicemotion",u)),()=>{window.removeEventListener("deviceorientation",a),window.removeEventListener("devicemotion",u)}),[l]),{heading:e,linearAcceleration:n,permissionState:l,requestPermissions:f}},_a=-59,Am=2,jm=e=>{if(e===0)return-1;const t=e*1/_a;return t<1?Math.pow(t,10):Math.pow(10,(_a-e)/(10*Am))},Om=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(!1),[l,s]=w.useState(null),o=w.useRef(null),a=m=>{const{device:h,rssi:g}=m,v=h.name||null,y=h.id;t(E=>{const S=E.findIndex(p=>p.id===y),d={id:y,name:v,rssi:g,distance:jm(g)};let c;return S>-1?(c=[...E],c[S]=d):c=[...E,d],c.sort((p,x)=>p.distance-x.distance)})},u=w.useCallback(async()=>{if(!navigator.bluetooth){s("Web Bluetooth API is not available on this browser."),console.error("Web Bluetooth API is not available.");return}if(!n)try{console.log("Requesting Bluetooth LE Scan..."),r(!0),s(null);const m=await navigator.bluetooth.requestLEScan({acceptAllAdvertisements:!0});o.current=m,console.log("Scan started. Listening for advertisements..."),navigator.bluetooth.addEventListener("advertisementreceived",a)}catch(m){console.error("Error starting BLE scan:",m),m instanceof DOMException&&m.name==="NotAllowedError"?s("Bluetooth permission was denied."):s("Could not start beacon scanning."),r(!1)}},[n]),f=w.useCallback(()=>{o.current&&(o.current.stop(),o.current=null,console.log("BLE scan stopped.")),r(!1),navigator.bluetooth&&navigator.bluetooth.removeEventListener("advertisementreceived",a)},[]);return w.useEffect(()=>()=>{f()},[f]),{beacons:e,isScanning:n,error:l,startScan:u,stopScan:f}};function Lm(e){return((e+180)%360+360)%360-180}const Dm=({onComplete:e})=>{const{heading:t}=Ad(),[n,r]=w.useState(new Set),[l,s]=w.useState(!1),o=12;w.useEffect(()=>{const y=setTimeout(()=>{s(!0)},7e3);return()=>clearTimeout(y)},[]),w.useEffect(()=>{if(t!==null){const y=Math.floor(t/(360/o));r(E=>new Set(E).add(y))}},[t]);const a=n.size/o,u=a>=1;w.useEffect(()=>{if(u){const y=setTimeout(()=>{e()},1500);return()=>clearTimeout(y)}},[u,e]);const f=80,m=15,h=f-m/2,g=h*2*Math.PI,v=g-a*g;return i.jsxs("div",{className:"flex flex-col items-center justify-center text-center h-full text-white p-4 bg-black/50",children:[i.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Calibrate Sensors"}),i.jsx("p",{className:"text-slate-300 max-w-xs mb-8",children:"For accurate direction, please slowly rotate your device in a circle or figure-eight pattern."}),i.jsxs("div",{className:"relative w-48 h-48 flex items-center justify-center",children:[i.jsxs("svg",{height:f*2,width:f*2,className:"-rotate-90",children:[i.jsx("circle",{stroke:"#374151",fill:"transparent",strokeWidth:m,r:h,cx:f,cy:f}),i.jsx("circle",{stroke:u?"#10B981":"#4F46E5",fill:"transparent",strokeWidth:m,strokeDasharray:`${g} ${g}`,style:{strokeDashoffset:v},strokeLinecap:"round",r:h,cx:f,cy:f,className:"transition-all duration-300"})]}),i.jsx("div",{className:"absolute flex flex-col items-center justify-center",children:u?i.jsx("span",{className:"text-4xl text-green-400",children:""}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"text-4xl font-bold",children:[Math.round(a*100),"%"]}),i.jsx("div",{className:"text-sm text-slate-400",children:"Calibrating"})]})})]}),u&&i.jsx("p",{className:"mt-8 text-xl font-semibold text-green-400 animate-pulse",children:"Calibration Complete!"}),!u&&l&&i.jsxs("div",{className:"mt-8 flex flex-col items-center",children:[i.jsx("button",{onClick:e,className:"px-6 py-2 bg-slate-700 text-white font-semibold rounded-full shadow-lg hover:bg-slate-600 active:scale-95 transition-all",children:"Skip Calibration"}),i.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"(Direction may be less accurate)"})]})]})},Rm=({relativeBearing:e})=>i.jsxs("div",{className:"transition-transform duration-500 ease-in-out will-change-transform",style:{transform:`rotate(${e}deg)`},children:[i.jsxs("svg",{width:"180",height:"180",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"drop-shadow-lg animate-arrow-pulse",style:{filter:"url(#arrow-glow)"},children:[i.jsx("defs",{children:i.jsxs("filter",{id:"arrow-glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[i.jsx("feGaussianBlur",{stdDeviation:"1.5",result:"coloredBlur"}),i.jsxs("feMerge",{children:[i.jsx("feMergeNode",{in:"coloredBlur"}),i.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),i.jsx("path",{d:"M12 2L12 22M12 2L5 9M12 2L19 9",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),i.jsx("style",{children:`
        @keyframes arrow-pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(0.95); opacity: 0.85; }
        }
        .animate-arrow-pulse {
            animation: arrow-pulse 2.5s infinite ease-in-out;
        }
      `})]}),Mm=({className:e})=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:i.jsx("path",{d:"m7 7 10 10-5 5V2l5 5L7 17"})}),Pm=({deviceHeading:e,destinationBearing:t,relativeBearing:n,steps:r,simulatedHeading:l,setSimulatedHeading:s,beacons:o,isScanning:a,startScan:u})=>i.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-2 bg-black/70 backdrop-blur-sm text-white text-xs font-mono z-20 max-h-[45vh] flex flex-col",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:[i.jsx("span",{children:"H_device:"}),i.jsxs("span",{children:[(e==null?void 0:e.toFixed(2))??"N/A",""]}),i.jsx("span",{children:"B_dest:"}),i.jsxs("span",{children:[t.toFixed(2),""]}),i.jsx("span",{children:"Relative:"}),i.jsxs("span",{children:[n.toFixed(2),""]}),i.jsx("span",{children:"Steps:"}),i.jsx("span",{children:r.toFixed(0)})]}),i.jsxs("div",{className:"mt-2 pt-2 border-t border-slate-600",children:[i.jsxs("label",{htmlFor:"simHeading",className:"block mb-1",children:["Simulate Heading: ",l,""]}),i.jsx("input",{type:"range",id:"simHeading",min:"0",max:"360",step:"1",value:l,onChange:f=>s(Number(f.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer"})]}),i.jsxs("div",{className:"mt-2 pt-2 border-t border-slate-600",children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsx("h3",{className:"font-bold",children:"Beacon Detection"}),i.jsxs("button",{onClick:u,disabled:a,className:"flex items-center gap-1.5 px-2 py-1 bg-slate-600/70 rounded text-xs hover:bg-slate-600 disabled:bg-slate-800 disabled:text-slate-500",children:[i.jsx(Mm,{className:"w-3 h-3"}),a?"Scanning...":"Start Scan"]})]}),i.jsx("div",{className:"space-y-1 overflow-y-auto pr-1",children:o.length>0?o.map(f=>i.jsxs("div",{className:"grid grid-cols-[1fr,auto,auto] gap-x-3 text-right",children:[i.jsx("span",{className:"truncate text-left",children:f.name||f.id}),i.jsxs("span",{children:[f.rssi,"dBm"]}),i.jsxs("span",{children:["~",f.distance.toFixed(2),"m"]})]},f.id)):i.jsx("p",{className:"text-slate-500",children:a?"Listening for beacons...":"Scan not started."})})]})]}),Ia=296,gs=10,Um=.5,Ta=1.8,Fm=400,zm=[{name:"Memora-Hallway",step_checkpoint:5,proximity_m:1.5}],Bm=({onBack:e})=>{const[t,n]=w.useState("REQUESTING_PERMISSIONS"),r=w.useRef(null),l=w.useRef(null),{heading:s,linearAcceleration:o,permissionState:a,requestPermissions:u}=Ad(),{beacons:f,isScanning:m,startScan:h}=Om(),[g,v]=w.useState(0),[y,E]=w.useState(!1),[S,d]=w.useState(null),[c,p]=w.useState(!1),[x,N]=w.useState(!1),[_,C]=w.useState(296),j=x?_:s,P=w.useRef(0),I=w.useRef(!1);w.useEffect(()=>{if(t!=="NAVIGATING"||!o)return;const{x:le,y:k,z:O}=o,L=Math.sqrt(le*le+k*k+O*O),B=Date.now();B-P.current<Fm||(L>Ta&&!I.current?I.current=!0:L<Ta*.7&&I.current&&(I.current=!1,P.current=B,v(K=>{const Yt=K+1;return p(!0),setTimeout(()=>p(!1),300),Math.min(Yt,gs)})))},[o,t]),w.useEffect(()=>{if(!(t!=="NAVIGATING"||f.length===0))for(const le of f){const k=zm.find(O=>O.name===le.name);k&&le.distance<k.proximity_m&&v(O=>O<k.step_checkpoint?(console.log(`Drift corrected by ${k.name}. Steps updated to ${k.step_checkpoint}`),k.step_checkpoint):O)}},[f,t]),w.useEffect(()=>{t==="REQUESTING_PERMISSIONS"&&a==="granted"&&n("CALIBRATING")},[a,t]),w.useEffect(()=>()=>{l.current&&(l.current.getTracks().forEach(le=>le.stop()),l.current=null)},[]),w.useEffect(()=>{t==="NAVIGATING"&&r.current&&l.current&&r.current.srcObject!==l.current&&(r.current.srcObject=l.current)},[t]),w.useEffect(()=>{g>=gs-Um&&n("ARRIVED")},[g]);const X=async()=>{d(null);let le=!1;if(a==="granted"?le=!0:le=await u(),!le){d("Motion sensor access is required. Please enable it in your browser settings.");return}try{const k=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});l.current=k,n("CALIBRATING")}catch(k){console.error("Permission error:",k),k instanceof DOMException&&(k.name==="NotAllowedError"||k.name==="PermissionDeniedError")?d("Camera access was denied. Please enable it in your browser settings."):d("Could not access camera. It may be in use by another app.")}},Xe=()=>{E(!0),n("NAVIGATING")},it=()=>{l.current&&(l.current.getTracks().forEach(le=>le.stop()),l.current=null),e()},Sn=w.useMemo(()=>j===null?0:Lm(Ia-j),[j]),zl=Math.max(0,gs-g),Nn=()=>{switch(t){case"REQUESTING_PERMISSIONS":return i.jsxs("div",{className:"flex flex-col items-center justify-center text-center h-full text-white p-4",children:[i.jsx("h2",{className:"text-3xl font-bold",children:"AR Navigation"}),i.jsx("p",{className:"mt-2 text-slate-400",children:"This feature requires access to your camera and motion sensors."}),i.jsx("button",{onClick:X,className:"mt-8 px-8 py-4 bg-slate-700 text-white font-bold text-xl rounded-full shadow-lg hover:bg-slate-600 active:scale-95 transition-all disabled:bg-slate-800 disabled:text-slate-500 disabled:cursor-not-allowed",children:"Grant Permissions"}),S&&i.jsx("p",{className:"text-sm text-red-400 mt-4 max-w-xs",children:S})]});case"CALIBRATING":return i.jsx(Dm,{onComplete:Xe});case"NAVIGATING":return i.jsxs(i.Fragment,{children:[i.jsx(Rm,{relativeBearing:Sn}),i.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 w-full px-4 text-center",children:[i.jsx("p",{className:"text-white text-5xl font-bold drop-shadow-2xl",children:zl.toFixed(0)}),i.jsx("p",{className:"text-slate-300 text-xl font-semibold drop-shadow-lg",children:"steps remaining"})]})]});case"ARRIVED":return i.jsx("div",{className:"absolute top-1/4 left-1/2 -translate-x-1/2 w-full max-w-sm px-4",children:i.jsx("div",{className:"relative overflow-hidden rounded-2xl border border-blue-800 bg-slate-900 p-6 text-center shadow-2xl",children:i.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[i.jsx("div",{className:"text-5xl mb-4",children:""}),i.jsx("h2",{className:"text-3xl font-bold text-white",children:"You have arrived!"}),i.jsx("p",{className:"text-slate-300 mt-1",children:"You've reached your destination."}),i.jsx("button",{onClick:it,className:"mt-6 w-full px-8 py-3 bg-green-600/80 text-white font-bold text-lg rounded-full shadow-lg hover:bg-green-600 active:scale-95 transition-all border border-green-500",children:"Done"})]})})})}};return i.jsxs("div",{className:"fixed inset-0 z-50 bg-gray-900 overflow-hidden flex flex-col justify-between",children:[i.jsx("video",{ref:r,autoPlay:!0,muted:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover"}),i.jsx("div",{className:"absolute inset-0 bg-black/30"}),i.jsxs("header",{className:"relative p-4 flex justify-between items-center bg-black/50 backdrop-blur-sm z-10",children:[i.jsxs("button",{onClick:it,className:"text-white text-sm p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors flex items-center gap-1",children:[i.jsx("span",{className:"text-lg",children:""})," Back"]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-white",children:[i.jsx("label",{htmlFor:"devModeToggle",children:"Dev Mode"}),i.jsx("input",{type:"checkbox",id:"devModeToggle",checked:x,onChange:()=>N(!x),className:"toggle-checkbox"})]})]}),i.jsx("main",{className:`relative flex-grow flex flex-col items-center justify-center text-white p-4 transition-transform duration-300 ${c?"animate-step-bump":""}`,children:Nn()}),x&&t==="NAVIGATING"&&i.jsx(Pm,{deviceHeading:s,destinationBearing:Ia,relativeBearing:Sn,steps:g,simulatedHeading:_,setSimulatedHeading:C,beacons:f,isScanning:m,startScan:h}),i.jsx("style",{children:`
        .toggle-checkbox {
            appearance: none;
            width: 32px;
            height: 18px;
            background-color: #4a5568;
            border-radius: 9px;
            position: relative;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .toggle-checkbox:checked {
            background-color: #48bb78;
        }
        .toggle-checkbox::before {
            content: '';
            position: absolute;
            width: 14px;
            height: 14px;
            border-radius: 50%;
            background-color: white;
            top: 2px;
            left: 2px;
            transition: transform 0.2s;
        }
        .toggle-checkbox:checked::before {
            transform: translateX(14px);
        }
        @keyframes step-bump {
            0% { transform: scale(1); }
            50% { transform: scale(1.03); }
            100% { transform: scale(1); }
        }
        .animate-step-bump {
            animation: step-bump 0.3s ease-out;
        }
      `})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ka;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(ka||(ka={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ca;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Ca||(Ca={}));var Aa;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(Aa||(Aa={}));var ja;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(ja||(ja={}));var Oa;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(Oa||(Oa={}));var La;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(La||(La={}));var Da;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Da||(Da={}));var Ra;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(Ra||(Ra={}));var Ma;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT"})(Ma||(Ma={}));var Pa;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY"})(Pa||(Pa={}));var Ua;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Ua||(Ua={}));var Fa;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Fa||(Fa={}));var za;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(za||(za={}));var Ba;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Ba||(Ba={}));var ba;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(ba||(ba={}));var Va;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Va||(Va={}));var Ga;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ga||(Ga={}));var Ha;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Ha||(Ha={}));var Ya;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(Ya||(Ya={}));var $a;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})($a||($a={}));var Wa;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(Wa||(Wa={}));var Ka;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Ka||(Ka={}));var Qa;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(Qa||(Qa={}));var Xa;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi"})(Xa||(Xa={}));var Ja;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Ja||(Ja={}));var Za;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Za||(Za={}));var qa;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(qa||(qa={}));var eu;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(eu||(eu={}));var tu;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(tu||(tu={}));var nu;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(nu||(nu={}));var ru;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(ru||(ru={}));var lu;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(lu||(lu={}));var su;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(su||(su={}));var ou;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(ou||(ou={}));var iu;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(iu||(iu={}));const ai="AI features are disabled. The Gemini API Key is missing. Please add a VITE_API_KEY to your .env file and restart the server. See README.md for instructions.",bm=async e=>ai,jd=({className:e})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"}),i.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),i.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"22"})]}),Vm=({onBack:e})=>{const[t,n]=w.useState(()=>[{sender:"ai",text:ai}]),[r,l]=w.useState(""),[s,o]=w.useState(!1),[a,u]=w.useState(!1),[f,m]=w.useState(!1),h=w.useRef(null),g=w.useRef(null),v=()=>{var S;(S=g.current)==null||S.scrollIntoView({behavior:"smooth"})};w.useEffect(()=>{v()},[t]);const y=w.useCallback(async()=>{if(r.trim()===""||s)return;const S={text:r,sender:"user"};n(p=>[...p,S]),l(""),o(!0);const c={text:await bm(),sender:"ai"};n(p=>[...p,c]),o(!1)},[r,s]);w.useEffect(()=>{f&&(r.trim()!==""&&y(),m(!1))},[f,r,y]),w.useEffect(()=>{const S=window.SpeechRecognition||window.webkitSpeechRecognition;if(S){const d=new S;d.continuous=!1,d.lang="en-US",d.interimResults=!1,d.onstart=()=>u(!0),d.onend=()=>{u(!1),m(!0)},d.onresult=c=>l(c.results[c.results.length-1][0].transcript),d.onerror=c=>{console.error("Speech recognition error:",c.error),u(!1)},h.current=d}return()=>{h.current&&h.current.stop()}},[]);const E=()=>{if(!h.current)return alert("Sorry, your browser doesn't support voice recognition.");a?h.current.stop():(l(""),h.current.start())};return i.jsxs("div",{className:"relative p-4 sm:p-6 bg-slate-900/70 backdrop-blur-xl border border-slate-700/50 rounded-3xl shadow-2xl h-[95vh] flex flex-col",children:[i.jsx("div",{className:"absolute top-3 left-3 w-2 h-2 rounded-full bg-slate-700"}),i.jsx("div",{className:"absolute bottom-3 right-3 w-2 h-2 rounded-full bg-slate-700"}),i.jsx("header",{className:"flex items-center justify-between pb-4 border-b border-slate-700/50",children:i.jsxs("div",{className:"flex items-center",children:[i.jsxs("button",{onClick:e,className:"text-slate-400 text-sm p-2 rounded-full hover:bg-slate-800/50 transition-colors mr-2 flex items-center gap-1",children:[i.jsx("span",{className:"text-lg",children:""})," Back"]}),i.jsx("div",{className:"text-2xl mr-3",children:""}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:"Your Companion, Digi"}),i.jsx("p",{className:"text-sm font-semibold text-yellow-400",children:"Limited"})]})]})}),i.jsx("div",{className:"flex-grow my-2 overflow-y-auto pr-2",children:i.jsxs("div",{className:"space-y-4",children:[t.map((S,d)=>i.jsx("div",{className:`flex ${S.sender==="user"?"justify-end":"justify-start"}`,children:i.jsx("div",{className:`max-w-xs lg:max-w-md px-4 py-3 rounded-xl shadow-md ${S.sender==="user"?"bg-slate-700 text-white":"bg-slate-800 text-gray-300"}`,children:S.text})},d)),s&&i.jsx("div",{className:"flex justify-start",children:i.jsx("div",{className:"bg-slate-800 rounded-xl p-3 shadow-md",children:i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("span",{className:"h-2 w-2 bg-slate-400 rounded-full animate-bounce [animation-delay:-0.3s]"}),i.jsx("span",{className:"h-2 w-2 bg-slate-400 rounded-full animate-bounce [animation-delay:-0.15s]"}),i.jsx("span",{className:"h-2 w-2 bg-slate-400 rounded-full animate-bounce"})]})})}),i.jsx("div",{ref:g})]})}),i.jsxs("div",{className:"mt-auto flex items-center border-t border-slate-700/50 pt-4 gap-2",children:[i.jsx("input",{type:"text",value:r,onChange:S=>l(S.target.value),onKeyPress:S=>S.key==="Enter"&&y(),placeholder:a?"Listening...":"Type a message...",className:"flex-grow px-4 py-3 bg-slate-800/70 border border-slate-700 rounded-full text-white placeholder-slate-400 focus:outline-none focus:border-slate-600 focus:ring-1 focus:ring-slate-600 transition-colors disabled:bg-slate-800/40 disabled:cursor-not-allowed",disabled:s||a||!0}),h.current&&i.jsx("button",{onClick:E,disabled:s||!0,className:`flex-shrink-0 w-12 h-12 rounded-full transition-all duration-200 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900 ${a?"bg-red-600 text-white animate-pulse focus:ring-red-500":"bg-slate-700 text-slate-300 hover:bg-slate-600 focus:ring-slate-500"} disabled:bg-slate-800/40 disabled:cursor-not-allowed`,"aria-label":a?"Stop listening":"Start listening",children:i.jsx(jd,{className:"w-6 h-6"})}),i.jsx("button",{onClick:y,disabled:s||r.trim()===""||!0,className:"flex-shrink-0 w-12 h-12 bg-slate-700 text-white font-bold rounded-full disabled:bg-slate-800/40 disabled:cursor-not-allowed hover:bg-slate-600 transition-colors flex items-center justify-center","aria-label":"Send message",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor",children:i.jsx("path",{d:"M3.478 2.405a.75.75 0 00-.926.94l2.432 7.905H13.5a.75.75 0 010 1.5H4.984l-2.432 7.905a.75.75 0 00.926.94 60.519 60.519 0 0018.445-8.986.75.75 0 000-1.218A60.517 60.517 0 003.478 2.405z"})})})]})]})},Pl=({className:e})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("rect",{x:"3",y:"8",width:"18",height:"8",rx:"4",ry:"4"}),i.jsx("line",{x1:"7",y1:"9",x2:"17",y2:"17",stroke:"currentColor",strokeWidth:"1.6"})]}),Ul=({className:e})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M7 2v10"}),i.jsx("path",{d:"M11 2v10"}),i.jsx("path",{d:"M5 20h14"})]}),Fl=({className:e})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M6 3h12l-1 12a4 4 0 0 1-4 4H11a4 4 0 0 1-4-4L6 3z"}),i.jsx("path",{d:"M8 8h8"})]}),ui=({className:e})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M9 18V5l12-2v13"}),i.jsx("circle",{cx:"6",cy:"18",r:"3"}),i.jsx("circle",{cx:"18",cy:"16",r:"3"})]}),Gm=({icon:e,className:t})=>{switch(e){case"medication":return i.jsx(Pl,{className:t});case"meal":return i.jsx(Ul,{className:t});case"hydration":return i.jsx(Fl,{className:t});case"music":return i.jsx(ui,{className:t});default:return null}},Hm=({onBack:e})=>{const{state:t,dispatch:n}=Ne(),{reminders:r}=t,l=o=>{n({type:"COMPLETE_REMINDER",payload:o})},s=r.filter(o=>!o.completed);return i.jsxs("div",{className:"relative p-4 sm:p-6 bg-slate-900/70 backdrop-blur-xl border border-slate-700/50 rounded-3xl shadow-2xl h-[95vh] flex flex-col",children:[i.jsx("div",{className:"absolute top-3 left-3 w-2 h-2 rounded-full bg-slate-700"}),i.jsx("div",{className:"absolute bottom-3 right-3 w-2 h-2 rounded-full bg-slate-700"}),i.jsxs("header",{className:"flex items-center mb-6 border-b border-slate-700/50 pb-4",children:[i.jsxs("button",{onClick:e,className:"text-slate-400 text-sm p-2 rounded-full hover:bg-slate-800/50 transition-colors mr-2 flex items-center gap-1",children:[i.jsx("span",{className:"text-lg",children:""})," Back"]}),i.jsx("h2",{className:"text-2xl font-bold text-white",children:"Today's Reminders"})]}),s.length===0?i.jsxs("div",{className:"flex-grow flex flex-col items-center justify-center text-center",children:[i.jsx("div",{className:"text-6xl mb-4",children:""}),i.jsx("h3",{className:"text-2xl font-bold text-green-400",children:"All Done for Today!"}),i.jsx("p",{className:"text-slate-400",children:"Great job!"})]}):i.jsx("ul",{className:"space-y-3 overflow-y-auto pr-2",children:s.map(o=>i.jsxs("li",{className:"p-3 bg-slate-800/50 rounded-lg flex items-center justify-between transition-colors duration-200",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"bg-slate-700/80 text-slate-300 p-3 rounded-lg mr-4 shadow-md",children:i.jsx(Gm,{icon:o.icon,className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-lg font-semibold text-gray-200",children:o.title}),i.jsx("p",{className:"text-md text-slate-400",children:o.time})]})]}),i.jsx("button",{onClick:()=>l(o.id),className:"px-5 py-2 bg-green-600/80 text-white font-bold text-sm rounded-full shadow-md hover:bg-green-600 active:scale-95 transition-all",children:"Done"})]},o.id))})]})},au=["","","","","","","",""],uu=()=>[...au,...au].map((n,r)=>({value:n,sort:Math.random(),id:r})).sort((n,r)=>n.sort-r.sort).map(({value:n,id:r})=>({value:n,id:r,isMatched:!1})),Ym=({onBack:e})=>{const[t,n]=w.useState(uu()),[r,l]=w.useState([]),[s,o]=w.useState(0),[a,u]=w.useState(!1),[f,m]=w.useState(!1),h=()=>{n(uu()),l([]),o(0),m(!1),u(!1)};w.useEffect(()=>{if(r.length===2){u(!0),o(s+1);const[v,y]=r,E=t.find(d=>d.id===v),S=t.find(d=>d.id===y);E&&S&&E.value===S.value?(n(d=>d.map(c=>c.id===E.id||c.id===S.id?{...c,isMatched:!0}:c)),l([]),u(!1)):setTimeout(()=>{l([]),u(!1)},1200)}},[r,t]),w.useEffect(()=>{t.every(y=>y.isMatched)&&t.length>0&&setTimeout(()=>m(!0),500)},[t]);const g=v=>{const y=t.find(E=>E.id===v);a||!y||y.isMatched||r.includes(v)||l(E=>[...E,v])};return i.jsxs("div",{className:"relative p-4 sm:p-6 bg-slate-900/70 backdrop-blur-xl border border-slate-700/50 rounded-3xl shadow-2xl h-[95vh] flex flex-col",children:[i.jsx("div",{className:"absolute top-3 left-3 w-2 h-2 rounded-full bg-slate-700"}),i.jsx("div",{className:"absolute bottom-3 right-3 w-2 h-2 rounded-full bg-slate-700"}),i.jsxs("header",{className:"flex items-center justify-between pb-4 border-b border-slate-700/50",children:[i.jsxs("button",{onClick:e,className:"text-slate-400 text-sm p-2 rounded-full hover:bg-slate-800/50 transition-colors mr-2 flex items-center gap-1",children:[i.jsx("span",{className:"text-lg",children:""})," Back"]}),i.jsx("h2",{className:"text-2xl font-bold text-white",children:"Memory Game"}),i.jsxs("div",{className:"text-lg font-semibold text-slate-400",children:["Moves: ",i.jsx("span",{className:"font-bold text-white",children:s})]})]}),i.jsx("main",{className:"flex-grow flex flex-col items-center justify-center p-4",children:f?i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-6xl mb-4",children:""}),i.jsx("h3",{className:"text-3xl font-bold text-green-400",children:"You Won!"}),i.jsxs("p",{className:"text-lg text-slate-400 mb-6",children:["Total moves: ",s]}),i.jsx("button",{onClick:h,className:"px-8 py-4 bg-slate-700 text-white font-bold text-xl rounded-full shadow-lg hover:bg-slate-600 active:scale-95 transition-all",children:"Play Again"})]}):i.jsx("div",{className:"grid grid-cols-4 gap-3 sm:gap-4 w-full max-w-md",children:t.map(v=>i.jsx("div",{className:"aspect-square perspective",onClick:()=>g(v.id),children:i.jsxs("div",{className:`relative w-full h-full transition-transform duration-500 transform-style-3d ${r.includes(v.id)||v.isMatched?"rotate-y-180":""}`,children:[i.jsx("div",{className:"absolute w-full h-full backface-hidden flex items-center justify-center bg-slate-800/80 rounded-lg cursor-pointer shadow-lg border border-slate-700/50 hover:bg-slate-700/80",children:i.jsx("span",{className:"text-3xl text-slate-400 font-bold",children:"?"})}),i.jsx("div",{className:`absolute w-full h-full backface-hidden flex items-center justify-center rounded-lg rotate-y-180 transition-all duration-300 ${v.isMatched?"bg-green-800/70 border border-green-600":"bg-slate-600/90"}`,children:i.jsx("span",{className:"text-4xl sm:text-5xl",children:v.value})})]})},v.id))})}),i.jsx("style",{children:`
        .perspective { perspective: 1000px; }
        .transform-style-3d { transform-style: preserve-3d; }
        .rotate-y-180 { transform: rotateY(180deg); }
        .backface-hidden { backface-visibility: hidden; }
      `})]})},$m=({onBack:e})=>{const{state:t}=Ne(),{memories:n}=t,r="https://images.unsplash.com/photo-1599566150163-29194dcaad36?q=80&w=800&auto=format&fit=crop";return i.jsxs("div",{className:"relative p-4 sm:p-6 bg-slate-900/70 backdrop-blur-xl border border-slate-700/50 rounded-3xl shadow-2xl h-[95vh] flex flex-col",children:[i.jsx("div",{className:"absolute top-3 left-3 w-2 h-2 rounded-full bg-slate-700"}),i.jsx("div",{className:"absolute bottom-3 right-3 w-2 h-2 rounded-full bg-slate-700"}),i.jsxs("header",{className:"flex items-center mb-6 border-b border-slate-700/50 pb-4",children:[i.jsxs("button",{onClick:e,className:"text-slate-400 text-sm p-2 rounded-full hover:bg-slate-800/50 transition-colors mr-2 flex items-center gap-1",children:[i.jsx("span",{className:"text-lg",children:""})," Back"]}),i.jsx("h2",{className:"text-2xl font-bold text-white",children:"Your Memory Album"})]}),n.length===0?i.jsxs("div",{className:"flex-grow flex flex-col items-center justify-center text-center",children:[i.jsx("h3",{className:"text-2xl font-bold text-slate-400",children:"No memories yet."}),i.jsx("p",{className:"text-slate-500",children:"Your family can share photos with you here."})]}):i.jsx("div",{className:"space-y-6 overflow-y-auto pr-2 flex-grow",children:n.map(l=>i.jsxs("div",{className:"bg-slate-800/50 rounded-xl overflow-hidden shadow-lg border border-slate-700/50",children:[i.jsx("img",{src:l.imageUrl,alt:l.caption,className:"w-full h-60 object-cover bg-slate-700",onError:s=>{const o=s.target;o.onerror=null,o.src=r}}),i.jsxs("div",{className:"p-4",children:[i.jsxs("p",{className:"text-lg text-gray-200 italic",children:['"',l.caption,'"']}),i.jsxs("p",{className:"text-right text-sm text-slate-400 mt-2",children:["- ",l.sharedBy]})]})]},l.id))})]})},ci=({onNewMessage:e,disabled:t=!1})=>{const[n,r]=w.useState(!1),[l,s]=w.useState(0),o=w.useRef(null),a=w.useRef([]),u=w.useRef(null),[f,m]=w.useState("prompt"),[h,g]=w.useState("");w.useEffect(()=>{if(typeof MediaRecorder<"u"){const d=["audio/webm;codecs=opus","audio/mp4","audio/webm","audio/ogg;codecs=opus","audio/ogg"];for(const c of d)if(MediaRecorder.isTypeSupported(c)){g(c);break}}return navigator.permissions&&navigator.permissions.query({name:"microphone"}).then(d=>{m(d.state),d.onchange=()=>{m(d.state)}}).catch(d=>{console.error("Could not query microphone permissions.",d)}),()=>{o.current&&o.current.state==="recording"&&o.current.stop(),u.current&&clearInterval(u.current)}},[]);const v=async()=>{try{if(typeof window.Capacitor<"u"&&window.Capacitor.isNativePlatform&&window.Capacitor.isNativePlatform())try{const{Permissions:c}=require("@capacitor/core"),p=await c.request({name:"microphone"});if(p&&p.state==="denied"){alert("Microphone permission denied. Please enable it in system settings.");return}}catch(c){console.warn("Capacitor permission request failed, attempting browser flow",c)}}catch(d){console.warn("Permission check error",d)}if(f==="denied"){alert("Microphone access has been blocked. Please enable it in your browser's site settings to record a message.");return}if(!h){alert("Sorry, your browser doesn't support audio recording.");return}try{const d=await navigator.mediaDevices.getUserMedia({audio:!0}),c=new MediaRecorder(d,{mimeType:h});o.current=c,a.current=[],c.ondataavailable=p=>{p.data.size>0&&a.current.push(p.data)},c.onstop=()=>{const p=new Blob(a.current,{type:h});if(p.size===0)console.warn("Recording was too short or failed, resulting in an empty audio file.");else{const x=URL.createObjectURL(p);e(x,l)}d.getTracks().forEach(x=>x.stop())},c.start(),r(!0),s(0),u.current=setInterval(()=>{s(p=>p+1)},1e3)}catch(d){console.error("Error starting recording:",d),d instanceof DOMException&&(d.name==="NotAllowedError"||d.name==="PermissionDeniedError")?alert("Could not start recording. You need to grant microphone access."):alert("Could not start recording. Please ensure your microphone is working.")}},y=()=>{o.current&&o.current.state==="recording"&&o.current.stop(),r(!1),u.current&&clearInterval(u.current)},E=d=>{const c=Math.floor(d/60),p=d%60;return`${c.toString().padStart(2,"0")}:${p.toString().padStart(2,"0")}`},S=()=>{n?y():v()};return i.jsxs("div",{className:"flex items-center justify-center w-full gap-4",children:[i.jsx("button",{onClick:S,disabled:t&&!n,className:`flex-shrink-0 w-16 h-16 rounded-full transition-all duration-200 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900 ${n?"bg-red-600 text-white animate-pulse focus:ring-red-500":t?"bg-slate-800 text-slate-600 cursor-not-allowed":"bg-slate-700 text-slate-300 hover:bg-slate-600 focus:ring-slate-500"}`,"aria-label":n?"Stop recording":t?"Enter your name to record":"Start recording",children:i.jsx(jd,{className:"w-8 h-8"})}),n&&i.jsx("div",{className:"text-xl font-mono bg-slate-800/50 px-4 py-2 rounded-lg text-white",children:E(l)})]})};let Qn=null;try{Qn=require("@capacitor-community/text-to-speech")}catch{Qn=null}const Od=typeof window.Capacitor<"u"&&window.Capacitor.isNativePlatform&&window.Capacitor.isNativePlatform(),Wm=async(e,t)=>{if(Od&&Qn&&Qn.TextToSpeech)try{await Qn.TextToSpeech.speak({text:e,lang:(t==null?void 0:t.lang)||"en-US",rate:(t==null?void 0:t.rate)||1});return}catch(n){console.warn("Native TTS failed, falling back to Web Speech API",n)}if("speechSynthesis"in window){const n=window.speechSynthesis;n.cancel();const r=new SpeechSynthesisUtterance(e);t!=null&&t.lang&&(r.lang=t.lang),r.rate=(t==null?void 0:t.rate)??1,n.speak(r);return}console.warn("No TTS available")},cu={speak:Wm,isNative:Od},Km=({className:e})=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:i.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})}),Qm=({className:e})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("rect",{x:"6",y:"4",width:"4",height:"16"}),i.jsx("rect",{x:"14",y:"4",width:"4",height:"16"})]}),Xm=({className:e})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),i.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),Jm=({className:e})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),i.jsx("circle",{cx:"9",cy:"7",r:"4"}),i.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),i.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),Zm=({className:e})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M12 22s-8-4.5-8-11.5A8 8 0 0 1 12 2a8 8 0 0 1 8 8.5c0 7-8 11.5-8 11.5z"}),i.jsx("path",{d:"M9 12H15"}),i.jsx("path",{d:"M12 9V15"})]}),qm=({role:e})=>{switch(e){case Qe.PATIENT:return i.jsx(Xm,{className:"w-6 h-6 text-slate-300"});case Qe.FAMILY:return i.jsx(Jm,{className:"w-6 h-6 text-slate-300"});case Qe.CAREGIVER:return i.jsx(Zm,{className:"w-6 h-6 text-slate-300"});default:return null}},di=({message:e})=>{const[t,n]=w.useState(!1),[r,l]=w.useState(0),[s,o]=w.useState(0),a=w.useRef(null),u=w.useRef(null),[f,m]=w.useState(!1),h=e.senderRole===Qe.PATIENT;w.useEffect(()=>{const S=a.current;if(!S)return;const d=()=>{l(S.currentTime/S.duration*100),o(S.currentTime)},c=()=>{n(!1),l(0),o(0)},p=()=>{t&&g()};return S.addEventListener("timeupdate",d),S.addEventListener("ended",c),S.addEventListener("error",p),()=>{S.removeEventListener("timeupdate",d),S.removeEventListener("ended",c),S.removeEventListener("error",p)}},[]),w.useEffect(()=>()=>{window.speechSynthesis&&u.current&&(window.speechSynthesis.cancel(),u.current=null)},[]);const g=S=>{const d=`${e.senderName} says: hello. This is a short voice message for you.`;if(cu.isNative){cu.speak(d).catch(_=>{console.warn("nativeTts failed, falling back to Web Speech API",_)}),n(!0),m(!0),setTimeout(()=>{n(!1),m(!1)},Math.max(1500,e.duration*1e3));return}if(!("speechSynthesis"in window)){console.warn("SpeechSynthesis not available in this environment."),n(!1),m(!1);return}const c=window.speechSynthesis;c.cancel();const p=new SpeechSynthesisUtterance(d);u.current=p;const x=c.getVoices();let N=x.find(_=>/en[-_]?us/i.test(_.lang)&&/Google|Microsoft|Apple|Samantha|Daniel|Alex/i.test(_.name));N||(N=x.find(_=>/en/i.test(_.lang))||x[0]),N&&(p.voice=N),p.onstart=()=>{m(!0),n(!0)},p.onend=()=>{n(!1),m(!1),u.current=null},p.onerror=()=>{n(!1),m(!1),u.current=null},c.speak(p)},v=()=>{const S=a.current;S&&!S.paused&&(S.pause(),S.currentTime=0),window.speechSynthesis&&u.current&&(window.speechSynthesis.cancel(),u.current=null),n(!1),m(!1)},y=()=>{const S=a.current;if(t){v();return}if(S&&e.audioUrl){S.play().then(()=>{n(!0)}).catch(d=>{console.warn("Audio playback failed, falling back to TTS:",d),g()});return}g()},E=S=>{const d=Math.floor(S%60);return`${Math.floor(S/60)}:${d.toString().padStart(2,"0")}`};return i.jsx("div",{className:`flex items-center gap-3 w-full ${h?"justify-end":""}`,children:i.jsx("div",{className:`flex flex-col ${h?"items-end":"items-start"}`,children:i.jsxs("div",{className:`p-3 rounded-xl max-w-xs w-full shadow-md border ${h?"bg-slate-700 border-slate-600":"bg-slate-800 border-slate-700/50"}`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex-shrink-0 bg-slate-900/50 p-2 rounded-full",children:i.jsx(qm,{role:e.senderRole})}),i.jsxs("div",{className:"flex-grow",children:[i.jsx("p",{className:`font-bold text-sm ${h?"text-white":"text-slate-300"}`,children:e.senderName}),i.jsx("p",{className:"text-xs text-slate-400",children:e.timestamp})]})]}),i.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[i.jsx("audio",{ref:a,src:e.audioUrl,preload:"metadata"}),i.jsx("button",{onClick:y,className:"flex-shrink-0 text-white bg-slate-600/50 hover:bg-slate-600/80 rounded-full p-2",children:t?i.jsx(Qm,{className:"w-5 h-5"}):i.jsx(Km,{className:"w-5 h-5"})}),i.jsx("div",{className:"flex-grow h-2 bg-slate-900/50 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-slate-500",style:{width:`${r}%`}})}),i.jsx("span",{className:"text-xs text-slate-400 font-mono w-12 text-right",children:E(t?s:e.duration)})]})]})})})},eh=({onBack:e})=>{const{state:t,dispatch:n}=Ne(),{voiceMessages:r}=t,l=(s,o)=>{const a={id:new Date().toISOString(),audioUrl:s,duration:o,senderRole:Qe.PATIENT,senderName:"Me",timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};n({type:"ADD_VOICE_MESSAGE",payload:a})};return i.jsxs("div",{className:"relative p-4 sm:p-6 bg-slate-900/70 backdrop-blur-xl border border-slate-700/50 rounded-3xl shadow-2xl h-[95vh] flex flex-col",children:[i.jsx("div",{className:"absolute top-3 left-3 w-2 h-2 rounded-full bg-slate-700"}),i.jsx("div",{className:"absolute bottom-3 right-3 w-2 h-2 rounded-full bg-slate-700"}),i.jsxs("header",{className:"flex items-center mb-6 border-b border-slate-700/50 pb-4",children:[i.jsxs("button",{onClick:e,className:"text-slate-400 text-sm p-2 rounded-full hover:bg-slate-800/50 transition-colors mr-2 flex items-center gap-1",children:[i.jsx("span",{className:"text-lg",children:""})," Back"]}),i.jsx("h2",{className:"text-2xl font-bold text-white",children:"Voice Messages"})]}),i.jsx("div",{className:"flex-grow space-y-4 overflow-y-auto pr-2 mb-4",children:r.length>0?r.map(s=>i.jsx(di,{message:s},s.id)):i.jsxs("div",{className:"flex-grow flex flex-col items-center justify-center text-center",children:[i.jsx("h3",{className:"text-xl text-slate-400",children:"No voice messages yet."}),i.jsx("p",{className:"text-slate-500",children:"Tap the microphone below to send one."})]})}),i.jsx("footer",{className:"mt-auto border-t border-slate-700/50 pt-4",children:i.jsx(ci,{onNewMessage:l})})]})},du=()=>{const{dispatch:e}=Ne(),[t,n]=w.useState($.HOME);w.useEffect(()=>{let s=Date.now();const o=a=>{if(Date.now()-s<100)return;s=Date.now();const u=a.accelerationIncludingGravity;if(u&&u.x!=null&&u.y!=null&&u.z!=null){const f=Math.sqrt(u.x*u.x+u.y*u.y+u.z*u.z);f>25&&(console.log("Potential fall detected! Magnitude:",f),e({type:"TRIGGER_SOS",payload:{id:new Date().toISOString(),message:"Potential Fall Detected!",timestamp:new Date().toLocaleString(),type:"FALL"}}))}};return window.addEventListener("devicemotion",o),()=>{window.removeEventListener("devicemotion",o)}},[e]);const r=()=>{switch(t){case $.HOME:return i.jsx(Na,{setScreen:n});case $.NAVIGATION:return i.jsx(Bm,{onBack:()=>n($.HOME)});case $.AI_COMPANION:return i.jsx(Vm,{onBack:()=>n($.HOME)});case $.REMINDERS:return i.jsx(Hm,{onBack:()=>n($.HOME)});case $.COGNITIVE_GAMES:return i.jsx(Ym,{onBack:()=>n($.HOME)});case $.MEMORY_ALBUM:return i.jsx($m,{onBack:()=>n($.HOME)});case $.VOICE_MESSAGES:return i.jsx(eh,{onBack:()=>n($.HOME)});default:return i.jsx(Na,{setScreen:n})}};return i.jsxs("div",{className:"w-full h-full",children:[i.jsx(Em,{}),r()]})},fi=typeof window.Capacitor<"u"&&window.Capacitor.isNativePlatform&&window.Capacitor.isNativePlatform(),th=async()=>{if(fi)try{const{LocalNotifications:e}=require("@capacitor/local-notifications");if(e&&typeof e.requestPermission=="function"){const t=await e.requestPermission();return typeof t=="object"&&"value"in t?t.value?"granted":"denied":t?"granted":"denied"}}catch(e){console.warn("Capacitor LocalNotifications requestPermission failed",e)}return typeof Notification<"u"&&Notification.requestPermission?await Notification.requestPermission()||"default":"denied"},nh=async e=>{if(fi)try{const{LocalNotifications:t}=require("@capacitor/local-notifications"),n=e.scheduleAt||new Date;return await t.schedule({notifications:[{id:e.id||Date.now(),title:e.title,body:e.body||"",schedule:{at:n}}]}),!0}catch(t){console.warn("LocalNotifications.schedule failed",t)}try{if(typeof Notification<"u"&&Notification.permission==="granted"){const t=new Notification(e.title,{body:e.body});return!0}}catch(t){console.warn("Web Notification schedule failed",t)}return!1},pr={requestPermission:th,schedule:nh},rh=Object.freeze(Object.defineProperty({__proto__:null,default:pr,isNative:fi},Symbol.toStringTag,{value:"Module"})),lh=()=>{const{dispatch:e}=Ne(),[t,n]=w.useState(""),[r,l]=w.useState(""),[s,o]=w.useState("medication"),a=u=>{if(u.preventDefault(),!t||!r){alert("Please fill out all fields.");return}const f={id:new Date().toISOString(),title:t,time:r,completed:!1,icon:s,notified:!1};e({type:"ADD_REMINDER",payload:f});try{const[m,h]=r.split(":"),g=new Date,v=new Date(g.getFullYear(),g.getMonth(),g.getDate(),parseInt(m,10),parseInt(h,10));v.getTime()<=Date.now()&&v.setDate(v.getDate()+1),_d(()=>Promise.resolve().then(()=>rh),void 0).then(y=>{y.isNative&&pr.schedule({id:Date.now(),title:f.title,body:`Reminder: ${f.title}`,scheduleAt:v})}).catch(()=>{})}catch(m){console.warn("Failed to schedule local notification for reminder",m)}n(""),l(""),o("medication")};return i.jsxs("form",{onSubmit:a,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx("input",{type:"text",placeholder:"Reminder Title",value:t,onChange:u=>n(u.target.value),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-1 focus:ring-slate-500"}),i.jsx("input",{type:"time",value:r,onChange:u=>l(u.target.value),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-1 focus:ring-slate-500"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{type:"button",onClick:()=>o("medication"),className:`p-2 rounded-lg transition-colors ${s==="medication"?"bg-slate-600 text-white":"bg-slate-700/50 text-slate-400 hover:bg-slate-700"}`,children:i.jsx(Pl,{className:"w-6 h-6"})}),i.jsx("button",{type:"button",onClick:()=>o("meal"),className:`p-2 rounded-lg transition-colors ${s==="meal"?"bg-slate-600 text-white":"bg-slate-700/50 text-slate-400 hover:bg-slate-700"}`,children:i.jsx(Ul,{className:"w-6 h-6"})}),i.jsx("button",{type:"button",onClick:()=>o("hydration"),className:`p-2 rounded-lg transition-colors ${s==="hydration"?"bg-slate-600 text-white":"bg-slate-700/50 text-slate-400 hover:bg-slate-700"}`,children:i.jsx(Fl,{className:"w-6 h-6"})})]}),i.jsx("button",{type:"submit",className:"px-6 py-2 bg-slate-700 text-white font-semibold rounded-lg shadow-md hover:bg-slate-600 focus:outline-none focus:ring-1 focus:ring-slate-500",children:"Add"})]})]})},fo=({className:e})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M11 21h-1a2 2 0 0 1-2-2v-1a2 2 0 0 1 2-2h1"}),i.jsx("path",{d:"M18 21h-2a2 2 0 0 1-2-2v-1a2 2 0 0 1 2-2h2"}),i.jsx("path",{d:"m15 15-3-3-3 3"}),i.jsx("path",{d:"m12 12 4-4 4 4"}),i.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v2"}),i.jsx("path",{d:"M8 4H6a2 2 0 0 0-2 2v2"})]});function sh(e){const t=new Date,[n,r]=e.split(":"),l=new Date(t);return l.setHours(Number(n),Number(r),0,0),t>=l}const oh=({icon:e,className:t})=>{switch(e){case"medication":return i.jsx(Pl,{className:t});case"meal":return i.jsx(Ul,{className:t});case"hydration":return i.jsx(Fl,{className:t});case"music":return i.jsx(ui,{className:t});default:return null}},ih=()=>{const{state:e,dispatch:t}=Ne(),{reminders:n,alerts:r,voiceMessages:l}=e,s=n.find(v=>!v.completed&&!v.notified&&sh(v.time));w.useEffect(()=>{s&&t({type:"MARK_REMINDER_NOTIFIED",payload:s.id})},[s,t]);const o=r.filter(v=>(v.type==="SOS"||v.type==="FALL")&&v.requiresAcknowledgement),a=v=>{window.confirm("Are you sure you want to delete this reminder?")&&t({type:"DELETE_REMINDER",payload:v})},u=()=>{t({type:"TRIGGER_SOS",payload:{id:new Date().toISOString(),message:"Potential Fall Detected! (Simulated)",timestamp:new Date().toLocaleString(),type:"FALL"}}),alert("Fall alert sent!")},f=(v,y)=>{const E={id:new Date().toISOString(),audioUrl:v,duration:y,senderRole:Qe.CAREGIVER,senderName:"Caregiver",timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};t({type:"ADD_VOICE_MESSAGE",payload:E})},m=({type:v})=>{switch(v){case"FALL":return i.jsx(fo,{className:"w-6 h-6"});case"EMOTION":return i.jsx(Kn,{className:"w-6 h-6"});case"SOS":return i.jsx("span",{className:"text-xl",children:""});default:return i.jsx("span",{className:"text-xl",children:""})}},h={SOS:"bg-red-900/50 border-red-700/80 text-red-200",FALL:"bg-orange-900/50 border-orange-700/80 text-orange-200",EMOTION:"bg-blue-900/50 border-blue-700/80 text-blue-200"},g=()=>{t({type:"ACKNOWLEDGE_ALERTS"})};return i.jsxs("div",{className:"relative space-y-6 p-4 sm:p-6 bg-slate-900/70 backdrop-blur-xl border border-slate-700/50 rounded-3xl shadow-2xl",children:[i.jsx(ii,{trigger:!!s}),i.jsx("div",{className:"absolute top-3 left-3 w-2 h-2 rounded-full bg-slate-700"}),i.jsx("div",{className:"absolute bottom-3 right-3 w-2 h-2 rounded-full bg-slate-700"}),i.jsxs("header",{className:"border-b border-slate-700/50 pb-4",children:[i.jsx("h1",{className:"text-3xl font-bold text-white",children:"Caregiver Dashboard"}),i.jsx("p",{className:"text-md text-slate-400",children:"Manage patient schedule and alerts for Memora"})]}),o.length>0&&i.jsxs("div",{className:"p-4 bg-red-800/50 border-2 border-red-500 rounded-xl shadow-lg animate-pulse",children:[i.jsx("h2",{className:"text-xl font-bold text-white text-center mb-2",children:"URGENT ALERT RECEIVED"}),i.jsx("button",{onClick:g,className:"w-full py-3 bg-red-600 text-white font-bold rounded-lg shadow-md hover:bg-red-500 transition-colors","aria-label":"Acknowledge and silence alarm",children:"Acknowledge & Silence Alarm"})]}),r.length>0&&i.jsxs("div",{className:"space-y-3",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-300",children:"Urgent Alerts"}),r.map(v=>i.jsx("div",{className:`p-4 rounded-xl shadow-lg ${h[v.type]}`,children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(m,{type:v.type}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:v.message}),i.jsx("p",{className:"text-sm text-slate-400",children:v.timestamp})]})]}),(v.type==="SOS"||v.type==="FALL")&&i.jsx("span",{className:"text-xl animate-ping",children:""})]})},v.id))]}),i.jsxs("div",{className:"p-4 bg-slate-800/40 rounded-xl shadow-md border border-slate-700/50",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-300 mb-3",children:"Voice Mailbox"}),i.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto pr-2 mb-4",children:l.map(v=>i.jsx(di,{message:v},v.id))}),i.jsxs("div",{className:"border-t border-slate-700/50 pt-4",children:[i.jsx("p",{className:"text-sm text-slate-400 mb-2 text-center",children:"Send a voice note to patient and family"}),i.jsx(ci,{onNewMessage:f})]})]}),i.jsxs("div",{className:"p-4 bg-slate-800/40 rounded-xl shadow-md border border-slate-700/50",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-300 mb-3",children:"Add New Reminder"}),i.jsx(lh,{})]}),i.jsxs("div",{className:"p-4 bg-slate-800/40 rounded-xl shadow-md border border-slate-700/50",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-300 mb-3",children:"System Actions"}),i.jsx("button",{onClick:u,className:"w-full px-5 py-2 bg-orange-700/80 text-white font-semibold rounded-lg shadow-md hover:bg-orange-700 focus:outline-none focus:ring-1 focus:ring-orange-500 text-sm",children:"Simulate Fall Detection"})]}),i.jsxs("div",{className:"p-4 bg-slate-800/40 rounded-xl shadow-md border border-slate-700/50",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-300 mb-3",children:"Patient's Daily Schedule"}),n.length>0?i.jsx("ul",{className:"space-y-3",children:n.map(v=>i.jsxs("li",{className:"p-3 bg-slate-800/50 rounded-lg shadow-sm flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"p-2 rounded-lg mr-4 bg-slate-700 text-slate-300",children:i.jsx(oh,{icon:v.icon,className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-gray-200",children:v.title}),i.jsx("p",{className:"text-sm text-slate-400",children:v.time})]})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("span",{className:`px-3 py-1 text-xs font-bold rounded-full ${v.completed?"bg-green-500/20 text-green-300":"bg-yellow-500/20 text-yellow-300"}`,children:v.completed?"COMPLETED":"PENDING"}),i.jsx("button",{onClick:()=>a(v.id),className:"text-slate-500 hover:text-red-400 transition-colors text-2xl font-bold",children:""})]})]},v.id))}):i.jsx("p",{className:"text-slate-500 text-center py-4",children:"No reminders scheduled for today."})]})]})};function ah(e){const t=new Date,[n,r]=e.split(":"),l=new Date(t);return l.setHours(Number(n),Number(r),0,0),t>=l}const uh=({icon:e,className:t})=>{switch(e){case"medication":return i.jsx(Pl,{className:t});case"meal":return i.jsx(Ul,{className:t});case"hydration":return i.jsx(Fl,{className:t});case"music":return i.jsx(ui,{className:t});default:return null}},ch=()=>{const{state:e,dispatch:t}=Ne(),{reminders:n,alerts:r,eventLog:l,voiceMessages:s}=e,o=n.find(I=>!I.completed&&!I.notified&&ah(I.time));w.useEffect(()=>{o&&t({type:"MARK_REMINDER_NOTIFIED",payload:o.id})},[o,t]);const[a,u]=w.useState(""),[f,m]=w.useState(""),[h,g]=w.useState(""),[v,y]=w.useState(!1),[E,S]=w.useState(""),d=r.filter(I=>(I.type==="SOS"||I.type==="FALL")&&I.requiresAcknowledgement),c=()=>{t({type:"ACKNOWLEDGE_ALERTS"})},p=I=>{if(I.preventDefault(),!a||!f||!h){alert("Please fill out all memory fields.");return}const X={id:new Date().toISOString(),imageUrl:a,caption:f,sharedBy:h};t({type:"ADD_MEMORY",payload:X}),u(""),m("")},x=async()=>{{alert(ai);return}},N=()=>{if(E.trim()==="")return;const I={id:new Date().toISOString(),text:E.trim(),timestamp:new Date().toLocaleString()};t({type:"ADD_QUOTE",payload:I}),S(""),alert("Your thought has been sent!")},_=(I,X)=>{const Xe={id:new Date().toISOString(),audioUrl:I,duration:X,senderRole:Qe.FAMILY,senderName:h.trim(),timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};t({type:"ADD_VOICE_MESSAGE",payload:Xe})},C=({type:I})=>{switch(I){case"FALL":return i.jsx(fo,{className:"w-6 h-6"});case"EMOTION":return i.jsx(Kn,{className:"w-6 h-6"});case"SOS":return i.jsx("span",{className:"text-xl",children:""});default:return i.jsx("span",{className:"text-xl",children:""})}},j={SOS:"bg-red-900/50 border-red-700/80 text-red-200",FALL:"bg-orange-900/50 border-orange-700/80 text-orange-200",EMOTION:"bg-blue-900/50 border-blue-700/80 text-blue-200"},P=({icon:I})=>{switch(I){case"sos":return i.jsx("span",{className:"text-red-400",children:""});case"fall":return i.jsx(fo,{className:"w-4 h-4 text-orange-400"});case"emotion":return i.jsx(Kn,{className:"w-4 h-4 text-blue-400"});case"reminder":return i.jsx(co,{className:"w-4 h-4 text-green-400"});case"task":return i.jsx(co,{className:"w-4 h-4 text-slate-400"});case"memory":return i.jsx(Cd,{className:"w-4 h-4 text-purple-400"});default:return null}};return i.jsxs("div",{className:"relative space-y-6 p-4 sm:p-6 bg-slate-900/70 backdrop-blur-xl border border-slate-700/50 rounded-3xl shadow-2xl",children:[i.jsx("div",{className:"absolute top-3 left-3 w-2 h-2 rounded-full bg-slate-700"}),i.jsx("div",{className:"absolute bottom-3 right-3 w-2 h-2 rounded-full bg-slate-700"}),i.jsxs("header",{className:"border-b border-slate-700/50 pb-4",children:[i.jsx("h1",{className:"text-3xl font-bold text-white",children:"Family Dashboard"}),i.jsx("p",{className:"text-md text-slate-400",children:"Stay connected with your loved one"})]}),i.jsx(ii,{trigger:!!o}),d.length>0&&i.jsxs("div",{className:"p-4 bg-red-800/50 border-2 border-red-500 rounded-xl shadow-lg animate-pulse",children:[i.jsx("h2",{className:"text-xl font-bold text-white text-center mb-2",children:"URGENT ALERT RECEIVED"}),i.jsx("button",{onClick:c,className:"w-full py-3 bg-red-600 text-white font-bold rounded-lg shadow-md hover:bg-red-500 transition-colors","aria-label":"Acknowledge and silence alarm",children:"Acknowledge & Silence Alarm"})]}),r.length>0&&i.jsxs("div",{className:"space-y-3",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-300",children:"Urgent Alerts"}),r.map(I=>i.jsx("div",{className:`p-4 rounded-xl shadow-lg ${j[I.type]}`,children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(C,{type:I.type}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:I.message}),i.jsx("p",{className:"text-sm text-slate-400",children:I.timestamp})]})]}),(I.type==="SOS"||I.type==="FALL")&&i.jsx("span",{className:"text-xl animate-ping",children:""})]})},I.id))]}),i.jsxs("div",{className:"p-4 bg-slate-800/40 rounded-xl shadow-md border border-slate-700/50",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-300 mb-3",children:"Your Details"}),i.jsx("input",{type:"text",placeholder:"Your Name (e.g., Daughter, Jane)",value:h,onChange:I=>g(I.target.value),className:"w-full px-3 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-1 focus:ring-slate-500 text-sm"}),i.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Please fill this in to share memories or voice messages."})]}),i.jsxs("div",{className:"p-4 bg-slate-800/40 rounded-xl shadow-md border border-slate-700/50",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-300 mb-3",children:"Voice Messages"}),i.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto pr-2 mb-4",children:s.map(I=>i.jsx(di,{message:I},I.id))}),i.jsxs("div",{className:"border-t border-slate-700/50 pt-4",children:[i.jsx("p",{className:"text-sm text-slate-400 mb-2 text-center",children:"Send a voice note to your loved one"}),i.jsx(ci,{onNewMessage:_,disabled:!h.trim()})]})]}),i.jsxs("div",{className:"p-4 bg-slate-800/40 rounded-xl shadow-md border border-slate-700/50",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-300 mb-3",children:"Share a Memory"}),i.jsxs("form",{onSubmit:p,className:"space-y-3",children:[i.jsx("input",{type:"text",placeholder:"Image URL",value:a,onChange:I=>u(I.target.value),className:"w-full px-3 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-1 focus:ring-slate-500 text-sm"}),i.jsx("textarea",{placeholder:"Caption for the memory",value:f,onChange:I=>m(I.target.value),rows:2,className:"w-full px-3 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-1 focus:ring-slate-500 text-sm"}),i.jsx("button",{type:"submit",disabled:!h.trim(),className:"w-full px-5 py-2 bg-slate-700 text-white font-semibold rounded-lg shadow-md hover:bg-slate-600 focus:outline-none focus:ring-1 focus:ring-slate-500 text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Share Memory"})]})]}),i.jsxs("div",{className:"p-4 bg-slate-800/40 rounded-xl shadow-md border border-slate-700/50",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-300 mb-3",children:"Send a Comforting Thought"}),i.jsx("p",{className:"text-sm text-slate-400 mb-3",children:"Send a short, positive message to your loved one's home screen."}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("button",{onClick:x,disabled:v||!0,className:"w-full flex items-center justify-center gap-2 px-5 py-3 bg-slate-700 text-white font-semibold rounded-lg shadow-md hover:bg-slate-600 focus:outline-none focus:ring-1 focus:ring-slate-500 text-sm disabled:opacity-50 disabled:cursor-not-allowed",title:"API Key not configured. See README.md",children:v?"Generating...":i.jsxs(i.Fragment,{children:[" ",i.jsx(Kn,{className:"w-5 h-5"})," Generate & Send Thought "]})}),i.jsxs("div",{className:"flex items-center gap-2 border-t border-slate-700/50 pt-3",children:[i.jsx("input",{type:"text",placeholder:"Or write a personal message...",value:E,onChange:I=>S(I.target.value),onKeyPress:I=>I.key==="Enter"&&N(),className:"flex-grow px-3 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-1 focus:ring-slate-500 text-sm"}),i.jsx("button",{onClick:N,disabled:!E.trim(),className:"flex-shrink-0 px-4 py-2 bg-slate-600 text-white font-semibold rounded-lg shadow-md hover:bg-slate-500 focus:outline-none focus:ring-1 focus:ring-slate-400 text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Send"})]})]})]}),i.jsxs("div",{className:"p-4 bg-slate-800/40 rounded-xl shadow-md border border-slate-700/50",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-300 mb-3",children:"Patient Activity Timeline"}),i.jsx("ul",{className:"space-y-3 max-h-48 overflow-y-auto pr-2",children:l.slice().sort((I,X)=>new Date(X.timestamp).getTime()-new Date(I.timestamp).getTime()).map(I=>i.jsxs("li",{className:"text-sm text-slate-400 flex items-start gap-3",children:[i.jsx("div",{className:"mt-1",children:i.jsx(P,{icon:I.icon})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-slate-300",children:I.text}),i.jsx("p",{className:"text-xs",children:I.timestamp})]})]},I.id))})]}),i.jsxs("div",{className:"p-4 bg-slate-800/40 rounded-xl shadow-md border border-slate-700/50",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-300 mb-3",children:"Patient's Daily Schedule"}),n.length>0?i.jsx("ul",{className:"space-y-3",children:n.map(I=>i.jsxs("li",{className:"p-3 bg-slate-800/50 rounded-lg shadow-sm flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"p-2 rounded-lg mr-4 bg-slate-700 text-slate-300",children:i.jsx(uh,{icon:I.icon,className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-gray-200",children:I.title}),i.jsx("p",{className:"text-sm text-slate-400",children:I.time})]})]}),i.jsx("span",{className:`px-3 py-1 text-xs font-bold rounded-full ${I.completed?"bg-green-500/20 text-green-300":"bg-yellow-500/20 text-yellow-300"}`,children:I.completed?"COMPLETED":"PENDING"})]},I.id))}):i.jsx("p",{className:"text-slate-500 text-center py-4",children:"No reminders scheduled for today."})]})]})},dh=({onClose:e})=>{const{dispatch:t}=Ne(),[n,r]=w.useState(""),[l,s]=w.useState(""),[o,a]=w.useState("ws://localhost:8081"),[u,f]=w.useState(!1),m=()=>{window.__DEMO_REALTIME_URL=o;try{pt.connect(o)}catch(C){console.error("Failed to start websocket",C),c("Failed to create websocket. Check URL and network.");return}S(!0);let p=5e3,x=!1;const N=pt.onStatusChange(C=>{if(!x&&C){x=!0;try{pt.login(n||"demo",l||"demo","demo"),t({type:"LOGIN_SUCCESS",payload:{username:n,role:n==="caregiver"?"CAREGIVER":n==="patient"?"PATIENT":"FAMILY"}}),t({type:"SET_DEV_MODE",payload:u}),S(!1),N(),e&&e()}catch(j){console.error("Failed to send LOGIN",j),c("Connected but failed to send login."),S(!1),N()}}}),_=setTimeout(()=>{if(!x){x=!0,S(!1),c("Timed out connecting to server. Check URL/network/ngrok.");try{N()}catch{}}},p);return()=>clearTimeout(_)},h=()=>{e&&e()},g=w.useRef(null),v=w.useRef(null),y=w.useRef(null),[E,S]=w.useState(!1),[d,c]=w.useState(null);return w.useEffect(()=>{y.current=document.activeElement,setTimeout(()=>{var x;return(x=v.current)==null?void 0:x.focus()},0);const p=x=>{if(x.key==="Escape"&&(x.preventDefault(),h()),x.key==="Tab"&&g.current){const N=g.current.querySelectorAll('a[href], button, textarea, input, select, [tabindex]:not([tabindex="-1"])');if(N.length===0)return;const _=N[0],C=N[N.length-1];!x.shiftKey&&document.activeElement===C&&(x.preventDefault(),_.focus()),x.shiftKey&&document.activeElement===_&&(x.preventDefault(),C.focus())}};return document.addEventListener("keydown",p),()=>{var x,N;document.removeEventListener("keydown",p),(N=(x=y.current)==null?void 0:x.focus)==null||N.call(x)}},[]),i.jsxs("div",{className:"fixed inset-0 flex items-center justify-center",style:{zIndex:99999},"aria-hidden":!1,children:[i.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:h,style:{zIndex:99998}}),i.jsxs("div",{ref:g,role:"dialog","aria-modal":"true","aria-labelledby":"login-modal-title",className:"relative bg-slate-900 rounded-xl shadow-2xl w-full max-w-md p-6 border border-slate-700",style:{zIndex:99999},children:[i.jsx("button",{onClick:h,className:"absolute top-3 right-3 text-slate-400 hover:text-white","aria-label":"Close login dialog",children:"X"}),i.jsx("h2",{className:"text-lg font-bold mb-4",children:"Demo Login"}),i.jsx("label",{className:"block text-sm text-slate-300",children:"User"}),i.jsx("input",{ref:v,className:"w-full p-2 mb-3 rounded bg-slate-800 border border-slate-700",value:n,onChange:p=>r(p.target.value)}),i.jsx("label",{className:"block text-sm text-slate-300",children:"Password"}),i.jsx("input",{type:"password",className:"w-full p-2 mb-3 rounded bg-slate-800 border border-slate-700",value:l,onChange:p=>s(p.target.value)}),i.jsx("label",{className:"block text-sm text-slate-300",children:"WSS URL"}),i.jsx("input",{className:"w-full p-2 mb-3 rounded bg-slate-800 border border-slate-700",value:o,onChange:p=>a(p.target.value)}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{children:i.jsx("button",{onClick:()=>{t({type:"SET_DEV_MODE",payload:!0}),t({type:"LOGIN_SUCCESS",payload:{username:"dev",role:"PATIENT"}}),t({type:"SET_VIEW_MODE",payload:te.PATIENT}),e&&e()},className:"px-3 py-1 bg-yellow-600 rounded text-sm",children:"Dev Mode"})}),i.jsxs("div",{children:[i.jsx("button",{onClick:m,className:"px-4 py-2 bg-slate-700 rounded",disabled:E,children:E?"Connecting...":"Connect"}),d&&i.jsx("div",{className:"text-sm text-red-400 mt-2",children:d})]})]})]})]})},fh=({alertId:e,alertType:t,onClose:n})=>{const{dispatch:r}=Ne(),l=w.useRef(null),s=w.useRef(null),o=w.useRef(null);w.useEffect(()=>{s.current=document.activeElement,setTimeout(()=>{var f,m;(m=(f=l.current)==null?void 0:f.querySelector("button"))==null||m.focus()},0),o.current||(o.current=new Audio(t==="SOS"?Id:Td),o.current.loop=!0,o.current.preload="auto",o.current.playsInline=!0,o.current.volume=1,(async()=>{try{const m=o.current;m&&(m.muted=!0,await m.play(),m.pause(),m.currentTime=0,m.muted=!1,o.current&&(o.current.load(),await o.current.play(),console.debug(`[AcknowledgeModal] ${t} alert playing successfully`)))}catch(m){console.error(`Error initializing/playing ${t} audio:`,m)}})());const u=f=>{if(f.key==="Escape"&&(f.preventDefault(),n==null||n()),f.key==="Tab"&&l.current){const m=l.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(m.length===0)return;const h=m[0],g=m[m.length-1];!f.shiftKey&&document.activeElement===g&&(f.preventDefault(),h.focus()),f.shiftKey&&document.activeElement===h&&(f.preventDefault(),g.focus())}};return document.addEventListener("keydown",u),()=>{var f,m;document.removeEventListener("keydown",u),(m=(f=s.current)==null?void 0:f.focus)==null||m.call(f),o.current&&(o.current.pause(),o.current.currentTime=0,o.current=null)}},[t,n]);const a=()=>{o.current&&(o.current.pause(),o.current.currentTime=0,o.current=null),r({type:"ACKNOWLEDGE_ALERTS"}),n&&n()};return i.jsxs("div",{className:"fixed inset-0 flex items-center justify-center",style:{zIndex:99999},"aria-hidden":!1,children:[i.jsx("div",{className:"absolute inset-0 bg-black/60",style:{zIndex:99998}}),i.jsxs("div",{ref:l,role:"alertdialog","aria-modal":"true","aria-labelledby":"alert-title","aria-describedby":"alert-description",className:"relative bg-slate-900 rounded-xl shadow-2xl w-full max-w-sm p-6 border border-slate-700",style:{zIndex:99999},children:[i.jsx("h3",{id:"alert-title",className:"text-lg font-bold mb-2",children:"Important Alert"}),i.jsxs("p",{id:"alert-description",className:"text-sm text-slate-300 mb-4",children:["A critical ",t==="SOS"?"SOS":"Fall"," alert is active. Please acknowledge to stop the alarm."]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx("button",{onClick:a,id:`acknowledge-${e}`,name:`acknowledge-${t.toLowerCase()}-alert`,"aria-label":`Acknowledge ${t} alert`,className:"px-4 py-2 bg-red-600 rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 focus:ring-offset-slate-900",children:"Acknowledge"}),i.jsx("button",{onClick:n,id:`close-${e}`,name:"close-alert-modal","aria-label":"Close alert modal",className:"px-4 py-2 bg-slate-700 rounded hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2 focus:ring-offset-slate-900",children:"Close"})]})]})]})},ph=({reminder:e,status:t})=>{const{dispatch:n}=Ne(),r=async()=>{try{ie.playReminderAlert()}catch(a){console.warn("Failed to play reminder sound",a)}try{await pr.schedule({id:Date.now(),title:e.title,body:e.title})}catch(a){console.warn("localNotifications failed",a)}},l=()=>{n({type:"MARK_REMINDER_NOTIFIED",payload:e.id})},s=()=>{n({type:"COMPLETE_REMINDER",payload:e.id}),n({type:"MARK_REMINDER_NOTIFIED",payload:e.id})},o=()=>{const a=new Date;a.setMinutes(a.getMinutes()+5);const u=a.getHours().toString().padStart(2,"0"),f=a.getMinutes().toString().padStart(2,"0"),m=`${u}:${f}`;n({type:"ADD_REMINDER",payload:{...e,id:new Date().toISOString(),time:m,notified:!1,completed:!1}}),n({type:"MARK_REMINDER_NOTIFIED",payload:e.id})};return Fn.useEffect(()=>{t==="due"&&r()},[t]),i.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 w-full max-w-lg px-4",children:i.jsx("div",{className:"bg-slate-800/95 border border-slate-700 rounded-lg shadow-lg p-3 flex items-start gap-3",children:i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-white",children:e.title}),i.jsxs("p",{className:"text-sm text-slate-400",children:[e.time,"  ",t==="due"?"Due now":"Upcoming"]})]})}),i.jsxs("div",{className:"mt-2 flex gap-2",children:[i.jsx("button",{onClick:s,className:"px-3 py-1 bg-green-600 rounded text-sm",children:"Complete"}),i.jsx("button",{onClick:o,className:"px-3 py-1 bg-yellow-600 rounded text-sm",children:"Snooze 5m"}),i.jsx("button",{onClick:l,className:"px-3 py-1 bg-slate-700 rounded text-sm",children:"Dismiss"})]})]})})})},mh=()=>{const{state:e,dispatch:t}=Ne(),n=e.currentView||te.PATIENT,r=y=>e.devMode?"bg-yellow-400":y?"bg-green-400":"bg-red-500";w.useEffect(()=>{const y=()=>{ie.unlock(),document.removeEventListener("click",y),document.removeEventListener("touchstart",y)};return document.addEventListener("click",y),document.addEventListener("touchstart",y),()=>{document.removeEventListener("click",y),document.removeEventListener("touchstart",y)}},[]),w.useEffect(()=>(window.openLoginModal=()=>h(!0),()=>{window.openLoginModal=void 0}),[]),w.useEffect(()=>{var p,x,N;const y=e.alerts.filter(_=>(_.type==="SOS"||_.type==="FALL")&&_.requiresAcknowledgement),E=(N=(x=(p=e.currentUser)==null?void 0:p.role)==null?void 0:x.toUpperCase)==null?void 0:N.call(x),S=e.currentView==="CAREGIVER"?"CAREGIVER":e.currentView==="FAMILY"?"FAMILY":"PATIENT",d=S!=="PATIENT"?S:E||S,c=d==="CAREGIVER"||d==="FAMILY";if(console.debug("[App] alert-effect",{effectiveRole:d,viewRole:S,loggedRole:E,canHear:c,devMode:e.devMode,unackCount:y.length,alerts:y.map(_=>({id:_.id,type:_.type}))}),!c){ie.stopSosAlert(),ie.stopFallAlert();return}return y.length>0?y.some(_=>_.type==="SOS")?(ie.stopFallAlert(),ie.playSosAlert()):y.some(_=>_.type==="FALL")&&(ie.stopSosAlert(),ie.playFallAlert()):(ie.stopSosAlert(),ie.stopFallAlert()),()=>{ie.stopSosAlert(),ie.stopFallAlert()}},[e.alerts,e.currentUser,e.devMode,e.currentView]),w.useEffect(()=>{const y=async()=>{try{const E=window.Capacitor;if(E&&typeof E.isNativePlatform=="function"&&E.isNativePlatform()){const d=await _d(()=>import("./index-DNzFMgCo.js"),[]);try{d.Permissions&&typeof d.Permissions.request=="function"&&await d.Permissions.request({name:"camera"})}catch(c){console.warn("Camera permission request failed",c)}try{d.Permissions&&typeof d.Permissions.request=="function"&&await d.Permissions.request({name:"microphone"})}catch(c){console.warn("Microphone permission request failed",c)}}}catch{}};e.currentUser&&(y(),(async()=>{try{await pr.requestPermission()}catch(E){console.warn("Notification permission request failed",E)}})())},[e.currentUser]),w.useEffect(()=>{const y=[],E=S=>{if(!(S.completed||S.notified))try{const[d,c]=S.time.split(":"),p=new Date,x=new Date(p.getFullYear(),p.getMonth(),p.getDate(),parseInt(d,10),parseInt(c,10),0,0);x.getTime()<=Date.now()&&x.setDate(x.getDate()+1);const N=x.getTime()-Date.now();console.debug("[App] scheduling reminder",{id:S.id,title:S.title,inMs:N});const _=window.setTimeout(async()=>{try{console.log(`Reminder due (timer): ${S.title}`),ie.playReminderAlert(),t({type:"MARK_REMINDER_NOTIFIED",payload:S.id});try{await pr.schedule({id:Date.now(),title:S.title,body:S.title})}catch(C){console.warn("localNotifications failed",C)}}catch(C){console.error("Error in reminder timer handler",C)}},N);y.push({id:S.id,timerId:_})}catch(d){console.warn("Failed to schedule reminder",d)}};return e.reminders.forEach(E),()=>{y.forEach(S=>clearTimeout(S.timerId))}},[e.reminders,t]);const[l,s]=Fn.useState(null);w.useEffect(()=>{const y=()=>{const S=new Date,d=S.getHours()*60+S.getMinutes(),c=e.reminders.find(x=>!x.completed&&!x.notified&&(()=>{const[N,_]=x.time.split(":");return parseInt(N,10)*60+parseInt(_,10)<=d})());if(c){s({reminderId:c.id,status:"due"});return}const p=e.reminders.find(x=>!x.completed&&!x.notified&&(()=>{const[N,_]=x.time.split(":"),C=parseInt(N,10)*60+parseInt(_,10);return C>d&&C<=d+2})());if(p){s({reminderId:p.id,status:"upcoming"});return}s(null)};y();const E=setInterval(y,15e3);return()=>clearInterval(E)},[e.reminders]);const o=()=>{let y=te.PATIENT;n===te.PATIENT?y=te.CAREGIVER:n===te.CAREGIVER?y=te.FAMILY:y=te.PATIENT,t({type:"SET_VIEW_MODE",payload:y})},a=()=>n===te.PATIENT?"Caregiver":n===te.CAREGIVER?"Family":"Patient",u=()=>{switch(n){case te.PATIENT:return i.jsx(du,{});case te.CAREGIVER:return i.jsx(ih,{});case te.FAMILY:return i.jsx(ch,{});default:return i.jsx(du,{})}},f=!!e.currentUser||!!e.devMode,[m,h]=Fn.useState(!1),[g,v]=Fn.useState(null);return i.jsxs("div",{className:"min-h-screen font-sans antialiased text-gray-300",children:[i.jsxs("div",{className:"absolute top-4 right-4 z-50 flex items-center gap-3",children:[i.jsx("div",{className:`w-3 h-3 rounded-full ${r(e.currentUser)} ${e.devMode?"ring-2 ring-yellow-400":""}`,title:e.currentUser?"Connected":"Not connected"}),f&&i.jsx("button",{onClick:o,className:"px-3 py-1 bg-slate-800/80 border border-slate-700 text-xs text-gray-300 rounded-full shadow-sm hover:bg-slate-700/90 transition-all duration-200 focus:outline-none focus:ring-1 focus:ring-slate-500",children:a()})]}),m&&i.jsx(dh,{onClose:()=>h(!1)}),e.alerts.length>0&&!g&&(()=>{var d,c,p;const y=(p=(c=(d=e.currentUser)==null?void 0:d.role)==null?void 0:c.toUpperCase)==null?void 0:p.call(c);if(!(y==="CAREGIVER"||y==="FAMILY"))return null;const S=e.alerts.find(x=>(x.type==="SOS"||x.type==="FALL")&&x.requiresAcknowledgement);return S&&v(S.id),null})(),g&&(()=>{const y=e.alerts.find(E=>E.id===g);return y?i.jsx(fh,{alertId:y.id,alertType:y.type==="FALL"?"FALL":"SOS",onClose:()=>v(null)}):null})(),l&&(()=>{const y=e.reminders.find(E=>E.id===l.reminderId);return y?i.jsx(ph,{reminder:y,status:l.status}):null})(),i.jsx("div",{className:"container mx-auto max-w-lg p-2 sm:p-4",children:u()})]})},Ld=document.getElementById("root");if(!Ld)throw new Error("Could not find root element to mount to");const hh=vs.createRoot(Ld);hh.render(i.jsx(Fn.StrictMode,{children:i.jsx(ym,{children:i.jsx(mh,{})})}));
